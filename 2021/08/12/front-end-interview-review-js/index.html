<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#6200ee"><meta name="author" content="sticla"><meta name="copyright" content="sticla"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>å¤‡æˆ˜å‰ç«¯é¢è¯•--jsåŸºç¡€ç¯‡ | sticla studio</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.24/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_ed8vp4atwoj.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: dark)"><link rel="shortcut icon" type="image/svg+xml" href="/favicon.ico"><link rel="mask-icon" href="/favicon.ico" color="#6200ee"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"blog.sticla.top","root":"/","title":"sticla studio","version":"1.5.2","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}.","hits":"${hits} results found","hits_time":"${hits} results found in ${time} ms"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-CCS65Z3P4C"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-CCS65Z3P4C');
}</script><meta name="description" content="å¤‡æˆ˜å‰ç«¯é¢è¯•â€”JSåŸºç¡€ç¯‡å‰è¨€ æ‹¿åˆ°ä¸€é“é¢è¯•é¢˜ï¼Œç¬¬ä¸€æ—¶é—´åº”è¯¥æ€è€ƒä»€ä¹ˆï¼Ÿ è€ƒç‚¹  å¦‚ä½•å¯¹å¾…åšä¸å®Œçš„é¢˜æµ·ï¼Ÿ è€ƒç‚¹ä¸å˜ï¼Œä»¥ä¸å˜åº”ä¸‡å˜ï¼ŒæŠ›ç –å¼•ç‰ï¼Œä¸¾ä¸€åä¸‰  å¦‚ä½•å‡†å¤‡é¢è¯•ï¼Ÿ å»ºç«‹çŸ¥è¯†ä½“ç³»ï¼Œç”±é¢˜è½¬åˆ°çŸ¥è¯†ç‚¹ï¼Œç”±çŸ¥è¯†ç‚¹åæ¨å¯èƒ½ä¼šå‡ºç°çš„é¢˜ç›®   JS åŸºç¡€å˜é‡ç±»å‹å’Œè®¡ç®—è€ƒç‚¹1ï¼šå˜é‡ç±»å‹ typeof èƒ½åˆ¤æ–­å“ªäº›ç±»å‹ï¼Ÿ  å€¼ç±»å‹ï¼šnumberï¼Œstringï¼Œbooleanï¼Œundefinedï¼Œsymbol ã€‚ å¼•ç”¨ç±»">
<meta property="og:type" content="article">
<meta property="og:title" content="å¤‡æˆ˜å‰ç«¯é¢è¯•--jsåŸºç¡€ç¯‡">
<meta property="og:url" content="https://blog.sticla.top/2021/08/12/front-end-interview-review-js/index.html">
<meta property="og:site_name" content="sticla studio">
<meta property="og:description" content="å¤‡æˆ˜å‰ç«¯é¢è¯•â€”JSåŸºç¡€ç¯‡å‰è¨€ æ‹¿åˆ°ä¸€é“é¢è¯•é¢˜ï¼Œç¬¬ä¸€æ—¶é—´åº”è¯¥æ€è€ƒä»€ä¹ˆï¼Ÿ è€ƒç‚¹  å¦‚ä½•å¯¹å¾…åšä¸å®Œçš„é¢˜æµ·ï¼Ÿ è€ƒç‚¹ä¸å˜ï¼Œä»¥ä¸å˜åº”ä¸‡å˜ï¼ŒæŠ›ç –å¼•ç‰ï¼Œä¸¾ä¸€åä¸‰  å¦‚ä½•å‡†å¤‡é¢è¯•ï¼Ÿ å»ºç«‹çŸ¥è¯†ä½“ç³»ï¼Œç”±é¢˜è½¬åˆ°çŸ¥è¯†ç‚¹ï¼Œç”±çŸ¥è¯†ç‚¹åæ¨å¯èƒ½ä¼šå‡ºç°çš„é¢˜ç›®   JS åŸºç¡€å˜é‡ç±»å‹å’Œè®¡ç®—è€ƒç‚¹1ï¼šå˜é‡ç±»å‹ typeof èƒ½åˆ¤æ–­å“ªäº›ç±»å‹ï¼Ÿ  å€¼ç±»å‹ï¼šnumberï¼Œstringï¼Œbooleanï¼Œundefinedï¼Œsymbol ã€‚ å¼•ç”¨ç±»">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/li-sticla/picBed@latest/image-20210903234044457.png">
<meta property="article:published_time" content="2021-08-12T22:36:12.000Z">
<meta property="article:modified_time" content="2023-02-02T06:23:29.266Z">
<meta property="article:author" content="sticla">
<meta property="article:tag" content="JavaScript">
<meta property="article:tag" content="interview">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/li-sticla/picBed@latest/image-20210903234044457.png"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info mickey-mouse"><a class="site-author-avatar" href="/about/" title="sticla"><img width="96" loading="lazy" src="https://cdn.jsdelivr.net/gh/li-sticla/picBed@latest/EAXX2-BUwAA2FuM (2).jpg" alt="sticla"><span class="site-author-status" title="æˆ‘çˆ±æ‘¸é±¼">ğŸ˜­</span></a><div class="site-author-name"><a href="/about/">sticla</a></div><span class="site-name">sticla studio</span><sub class="site-subtitle">Change the worldï¼</sub><div class="site-desciption">åªæœ‰å¼±è€…æ‰ç¡è§‰ï¼</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">19</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">10</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">20</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="æ–‡æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/li-sticla" title="GitHub" target="_blank" style="color:#181717"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:yuanzichao@163.com" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=1619244804" title="ç½‘æ˜“äº‘éŸ³ä¹" target="_blank" style="color:#C10D0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/5050630" title="å“”å“©å“”å“©åŠ¨ç”»" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://twitter.com/sticla_yuuri" title="Twitter" target="_blank" style="color:#1da1f2"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-twitter-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://t.me/sticla" title="Telegram" target="_blank" style="color:#0088CC"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-telegram-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="æˆ‘çš„å°ä¼™ä¼´ä»¬" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%87%E6%88%98%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E2%80%94JS%E5%9F%BA%E7%A1%80%E7%AF%87"><span class="toc-number">1.</span> <span class="toc-text">å¤‡æˆ˜å‰ç«¯é¢è¯•â€”JSåŸºç¡€ç¯‡</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.1.</span> <span class="toc-text">å‰è¨€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JS-%E5%9F%BA%E7%A1%80"><span class="toc-number">1.2.</span> <span class="toc-text">JS åŸºç¡€</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B%E5%92%8C%E8%AE%A1%E7%AE%97"><span class="toc-number">1.2.1.</span> <span class="toc-text">å˜é‡ç±»å‹å’Œè®¡ç®—</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B91%EF%BC%9A%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">è€ƒç‚¹1ï¼šå˜é‡ç±»å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B92%EF%BC%9A%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">è€ƒç‚¹2ï¼šç±»å‹è½¬æ¢</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B%E5%92%8C%E5%8E%9F%E5%9E%8B%E9%93%BE"><span class="toc-number">1.2.2.</span> <span class="toc-text">åŸå‹å’ŒåŸå‹é“¾</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B91%EF%BC%9A%E7%BB%A7%E6%89%BF"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">è€ƒç‚¹1ï¼šç»§æ‰¿</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B92%EF%BC%9A%E6%98%BE%E5%BC%8F%E5%8E%9F%E5%9E%8B%E5%92%8C%E9%9A%90%E5%BC%8F%E5%8E%9F%E5%9E%8B"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">è€ƒç‚¹2ï¼šæ˜¾å¼åŸå‹å’Œéšå¼åŸå‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">1.2.3.</span> <span class="toc-text">ä½œç”¨åŸŸ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B91%EF%BC%9A%E4%BD%9C%E7%94%A8%E5%9F%9F%E3%80%81%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">è€ƒç‚¹1ï¼šä½œç”¨åŸŸã€ä½œç”¨åŸŸé“¾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B92%EF%BC%9A%E9%97%AD%E5%8C%85"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">è€ƒç‚¹2ï¼šé—­åŒ…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B93%EF%BC%9Athis"><span class="toc-number">1.2.3.3.</span> <span class="toc-text">è€ƒç‚¹3ï¼šthis</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">1.2.4.</span> <span class="toc-text">æ•°ç»„</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B91%EF%BC%9A%E7%B1%BB%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">è€ƒç‚¹1ï¼šç±»æ•°ç»„å¯¹è±¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B92%EF%BC%9A%E6%95%B0%E7%BB%84%E9%81%8D%E5%8E%86"><span class="toc-number">1.2.4.2.</span> <span class="toc-text">è€ƒç‚¹2ï¼šæ•°ç»„éå†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B93%EF%BC%9A%E6%95%B0%E7%BB%84%E6%89%81%E5%B9%B3%E5%8C%96"><span class="toc-number">1.2.4.3.</span> <span class="toc-text">è€ƒç‚¹3ï¼šæ•°ç»„æ‰å¹³åŒ–</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B94%EF%BC%9A%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D"><span class="toc-number">1.2.4.4.</span> <span class="toc-text">è€ƒç‚¹4ï¼šæ•°ç»„å»é‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B95%EF%BC%9A%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.4.5.</span> <span class="toc-text">è€ƒç‚¹5ï¼šé«˜é˜¶å‡½æ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B96%EF%BC%9A%E6%95%B0%E7%BB%84%E5%B8%B8%E7%94%A8-API-%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.2.4.6.</span> <span class="toc-text">è€ƒç‚¹6ï¼šæ•°ç»„å¸¸ç”¨ API å®ç°</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8A%82%E6%B5%81%E9%98%B2%E6%8A%96"><span class="toc-number">1.2.5.</span> <span class="toc-text">èŠ‚æµé˜²æŠ–</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B91%EF%BC%9A%E8%8A%82%E6%B5%81"><span class="toc-number">1.2.5.1.</span> <span class="toc-text">è€ƒç‚¹1ï¼šèŠ‚æµ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B92%EF%BC%9A%E9%98%B2%E6%8A%96"><span class="toc-number">1.2.5.2.</span> <span class="toc-text">è€ƒç‚¹2ï¼šé˜²æŠ–</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B93%EF%BC%9A%E5%90%88%E5%B9%B6"><span class="toc-number">1.2.5.3.</span> <span class="toc-text">è€ƒç‚¹3ï¼šåˆå¹¶</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%8E%E8%AE%B0"><span class="toc-number">1.3.</span> <span class="toc-text">åè®°</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://blog.sticla.top/2021/08/12/front-end-interview-review-js/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="sticla"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="sticla studio"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">å¤‡æˆ˜å‰ç«¯é¢è¯•--jsåŸºç¡€ç¯‡</h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="Created: 2021-08-12 22:36:12" itemprop="dateCreated datePublished" datetime="2021-08-12T22:36:12+00:00">2021-08-12</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="Modified: 2023-02-02 06:23:29" itemprop="dateModified" datetime="2023-02-02T06:23:29+00:00">2023-02-02</time></div><span class="leancloud_visitors" id="/2021/08/12/front-end-interview-review-js/" data-flag-title="å¤‡æˆ˜å‰ç«¯é¢è¯•--jsåŸºç¡€ç¯‡"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="Views"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg> <span class="leancloud-visitors-count"></span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category" href="/categories/%E5%AD%A6%E4%B9%A0-JavaScript/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">å­¦ä¹ -JavaScript</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag" href="/tags/JavaScript/" style="--text-color:#F4DF4F"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">JavaScript</span></a><a class="tag" href="/tags/interview/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">interview</span></a></span></div><div class="post-author"><div class="author-avatar"><img src="https://www.gravatar.com/avatar/429930d44169a040b9b3a3e187e2f63e?s=20&amp;d=https%3A%2F%2Fcdn.jsdelivr.net%2Fgh%2FYunYouJun%2Fcdn%2Fimg%2Favatar%2Fnone.jpg"></div><span class="author-name">sticla</span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#6200ee;"><h1 id="å¤‡æˆ˜å‰ç«¯é¢è¯•â€”JSåŸºç¡€ç¯‡"><a href="#å¤‡æˆ˜å‰ç«¯é¢è¯•â€”JSåŸºç¡€ç¯‡" class="headerlink" title="å¤‡æˆ˜å‰ç«¯é¢è¯•â€”JSåŸºç¡€ç¯‡"></a>å¤‡æˆ˜å‰ç«¯é¢è¯•â€”JSåŸºç¡€ç¯‡</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><ul>
<li><p>æ‹¿åˆ°ä¸€é“é¢è¯•é¢˜ï¼Œç¬¬ä¸€æ—¶é—´åº”è¯¥æ€è€ƒä»€ä¹ˆï¼Ÿ</p>
<p><strong>è€ƒç‚¹</strong></p>
</li>
<li><p>å¦‚ä½•å¯¹å¾…åšä¸å®Œçš„é¢˜æµ·ï¼Ÿ</p>
<p><strong>è€ƒç‚¹ä¸å˜ï¼Œä»¥ä¸å˜åº”ä¸‡å˜ï¼ŒæŠ›ç –å¼•ç‰ï¼Œä¸¾ä¸€åä¸‰</strong></p>
</li>
<li><p>å¦‚ä½•å‡†å¤‡é¢è¯•ï¼Ÿ</p>
<p><strong>å»ºç«‹çŸ¥è¯†ä½“ç³»ï¼Œç”±é¢˜è½¬åˆ°çŸ¥è¯†ç‚¹ï¼Œç”±çŸ¥è¯†ç‚¹åæ¨å¯èƒ½ä¼šå‡ºç°çš„é¢˜ç›®</strong></p>
</li>
</ul>
<h2 id="JS-åŸºç¡€"><a href="#JS-åŸºç¡€" class="headerlink" title="JS åŸºç¡€"></a>JS åŸºç¡€</h2><h3 id="å˜é‡ç±»å‹å’Œè®¡ç®—"><a href="#å˜é‡ç±»å‹å’Œè®¡ç®—" class="headerlink" title="å˜é‡ç±»å‹å’Œè®¡ç®—"></a>å˜é‡ç±»å‹å’Œè®¡ç®—</h3><h4 id="è€ƒç‚¹1ï¼šå˜é‡ç±»å‹"><a href="#è€ƒç‚¹1ï¼šå˜é‡ç±»å‹" class="headerlink" title="è€ƒç‚¹1ï¼šå˜é‡ç±»å‹"></a>è€ƒç‚¹1ï¼š<strong>å˜é‡ç±»å‹</strong></h4><ol>
<li><p><strong>typeof èƒ½åˆ¤æ–­å“ªäº›ç±»å‹ï¼Ÿ</strong></p>
<ul>
<li>å€¼ç±»å‹ï¼šnumberï¼Œstringï¼Œbooleanï¼Œundefinedï¼Œsymbol ã€‚</li>
<li>å¼•ç”¨ç±»å‹( null æ˜¯ç‰¹æ®Šçš„å¼•ç”¨ç±»å‹ï¼ŒæŒ‡å‘ç©ºåœ°å€)é™¤ function å¤–æ— æ³•åŒºåˆ†ï¼Œéƒ½ä¸º objectã€‚</li>
</ul>
</li>
<li><p><strong>å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„åŒºåˆ«ï¼Ÿ</strong></p>
<p>å€¼ç±»å‹ï¼š</p>
<ul>
<li>å ç”¨ç©ºé—´å›ºå®šï¼Œç”¨æ ˆå­˜å‚¨ã€‚</li>
<li>å˜é‡çš„å€¼å°±æ˜¯å€¼æœ¬èº«ã€‚</li>
<li>ä½¿ç”¨<code>typeof</code>æ£€æµ‹æ•°æ®çš„ç±»å‹ã€‚</li>
</ul>
<p>å¼•ç”¨ç±»å‹ï¼š</p>
<ul>
<li>å ç”¨ç©ºé—´ä¸å›ºå®šï¼Œç”¨å †å­˜å‚¨ï¼Œä»¥ä¾¿åå¤åˆ©ç”¨ï¼ˆå› ä¸ºå¯¹è±¡çš„åˆ›å»ºæˆæœ¬é€šå¸¸è¾ƒå¤§ï¼‰ã€‚</li>
<li>å˜é‡çš„å€¼æ˜¯å†…å­˜åœ°å€ï¼Œä¸€ä¸ªå†…å­˜åœ°å€å¯¹åº”ä¸€ä¸ªå¯¹è±¡ã€‚</li>
<li>ä½¿ç”¨<code>instanceof</code>æ£€æµ‹æ•°æ®ç±»å‹ã€‚</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/li-sticla/picBed@latest/image-20210903234044457.png" alt="image-20210903234044457" loading="lazy"></p>
</li>
<li><p><strong>æµ…æ‹·è´ï¼Ÿæ·±æ‹·è´ï¼Ÿ</strong></p>
<p>æµ…æ‹·è´ï¼š</p>
<ul>
<li><p><code>Array.prototype.cocat</code>ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
newArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[ 1, 2, 3 ]</span></code></pre></li>
<li><p><code>Object.assign</code>ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'sy'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> obj2 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> obj<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>name<span class="token operator">:</span> <span class="token string">'sss'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//&#123; name: 'sss', age: 18 &#125;</span></code></pre></li>
<li><p><code>å±•å¼€è¿ç®—ç¬¦</code>ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arr<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//è·Ÿarr.slice()æ˜¯ä¸€æ ·çš„æ•ˆæœ</span></code></pre></li>
<li><p><code>Array.prototype.slice</code>ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
newArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[1, 2, 3]</span></code></pre></li>
</ul>
<p>æ·±æ‹·è´ï¼š</p>
<ul>
<li><p>åˆ¤æ–­æ˜¯å€¼ç±»å‹è¿˜æ˜¯å¼•ç”¨ç±»å‹ã€‚</p>
</li>
<li><p>åˆ¤æ–­æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡ã€‚</p>
</li>
<li><p>é€’å½’è§£æã€‚</p>
</li>
</ul>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// ç®€æ˜“ç‰ˆæœ¬ï¼Œè¿˜æœ‰ç‰¹æ®Šå¯¹è±¡ã€å¾ªç¯å¼•ç”¨ã€å‡½æ•°ç±»å‹ä¸èƒ½å¤„ç†ã€‚</span>
<span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> source <span class="token operator">===</span> <span class="token string">"object"</span> <span class="token operator">&amp;&amp;</span> source <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> target <span class="token operator">=</span> Array<span class="token punctuation">.</span>isArray <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> source<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>source<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// ä¿è¯ key éåŸå‹å±æ€§</span>
        target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>source<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> target<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> source<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
<li><p><strong><code>&#39;1&#39;.toString()</code>ä¸ºä»€ä¹ˆå¯ä»¥è°ƒç”¨ï¼Ÿ</strong></p>
<p>å…¶å®åœ¨è¿™ä¸ªè¯­å¥è¿è¡Œçš„è¿‡ç¨‹ä¸­åšäº†è¿™æ ·å‡ ä»¶äº‹æƒ…ï¼š</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></code></pre>

<p>ç¬¬ä¸€æ­¥: åˆ›å»º <code>String</code> ç±»å®ä¾‹ã€‚</p>
<p>ç¬¬äºŒæ­¥: è°ƒç”¨å®ä¾‹æ–¹æ³•ã€‚</p>
<p>ç¬¬ä¸‰æ­¥: æ‰§è¡Œå®Œæ–¹æ³•ç«‹å³é”€æ¯è¿™ä¸ªå®ä¾‹ã€‚</p>
<p>æ•´ä¸ªè¿‡ç¨‹ä½“ç°äº†<code>åŸºæœ¬åŒ…è£…ç±»å‹</code>çš„æ€§è´¨ï¼Œè€ŒåŸºæœ¬åŒ…è£…ç±»å‹æ°æ°å±äºåŸºæœ¬æ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬<code>Boolean</code>, <code>Number</code>å’Œ<code>String</code>ã€‚</p>
</li>
<li><p><strong>instanceof èƒ½å¦åˆ¤æ–­åŸºæœ¬æ•°æ®ç±»å‹ï¼Ÿ</strong></p>
<p>èƒ½ã€‚æ¯”å¦‚ä¸‹é¢è¿™ç§æ–¹å¼:</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">PrimitiveNumber</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">static</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>hasInstance<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">'number'</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">111</span> <span class="token keyword">instanceof</span> <span class="token class-name">PrimitiveNumber</span><span class="token punctuation">)</span> <span class="token comment">// true</span></code></pre>

<p>å…¶å®å°±æ˜¯è‡ªå®šä¹‰ instanceof è¡Œä¸ºçš„ä¸€ç§æ–¹å¼ï¼Œè¿™é‡Œå°†åŸæœ‰çš„ instanceof æ–¹æ³•é‡å®šä¹‰ï¼Œæ¢æˆäº† typeofï¼Œå› æ­¤èƒ½å¤Ÿåˆ¤æ–­åŸºæœ¬æ•°æ®ç±»å‹ã€‚</p>
</li>
<li><p><strong>èƒ½ä¸èƒ½æ‰‹åŠ¨å®ç°ä¸€ä¸‹instanceofçš„åŠŸèƒ½ï¼Ÿ</strong></p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">myInstanceof</span><span class="token punctuation">(</span><span class="token parameter">left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//åŸºæœ¬æ•°æ®ç±»å‹ç›´æ¥è¿”å›false</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> left <span class="token operator">!==</span> <span class="token string">'object'</span> <span class="token operator">||</span> left <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token comment">//getProtypeOfæ˜¯Objectå¯¹è±¡è‡ªå¸¦çš„ä¸€ä¸ªæ–¹æ³•ï¼Œèƒ½å¤Ÿæ‹¿åˆ°å‚æ•°çš„åŸå‹å¯¹è±¡</span>
    <span class="token keyword">let</span> proto <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//æŸ¥æ‰¾åˆ°å°½å¤´ï¼Œè¿˜æ²¡æ‰¾åˆ°</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>proto <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token comment">//æ‰¾åˆ°ç›¸åŒçš„åŸå‹å¯¹è±¡</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>proto <span class="token operator">==</span> right<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        proto <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeof</span><span class="token punctuation">(</span>proto<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
</ol>
<h4 id="è€ƒç‚¹2ï¼šç±»å‹è½¬æ¢"><a href="#è€ƒç‚¹2ï¼šç±»å‹è½¬æ¢" class="headerlink" title="è€ƒç‚¹2ï¼šç±»å‹è½¬æ¢"></a>è€ƒç‚¹2ï¼š<strong>ç±»å‹è½¬æ¢</strong></h4><ol>
<li><p><strong>ä½•æ—¶ä½¿ç”¨ <code>==</code> or <code>===</code>ï¼Ÿ</strong></p>
<ul>
<li>åˆ¤æ–­ null å’Œ undefined ç”¨ <code>==</code>ã€‚</li>
<li>å…¶ä»–æƒ…å†µä¸€å¾‹ <code>===</code>ã€‚</li>
</ul>
</li>
<li><p><strong>åŠ å‡è¿ç®—ï¼Ÿ</strong></p>
<ul>
<li>åŠ æ³•è¿ç®—ä¸­åªè¦å«å­—ç¬¦ä¸²ï¼Œä¼šè¢«è§£æä¸ºå­—ç¬¦ä¸²æ‹¼æ¥ï¼Œç»“æœä¸ºå­—ç¬¦ä¸²ã€‚</li>
<li>å‡æ³•è¿ç®—ä¸­é»˜è®¤è½¬æ¢ä¸ºæ•°å­—ç±»å‹ã€‚</li>
</ul>
</li>
<li><p><strong>ifæ¡ä»¶åˆ¤æ–­ï¼Ÿ</strong></p>
<ul>
<li><p>éšå¼ç±»å‹è½¬æ¢ã€‚</p>
</li>
<li><p>trulyå˜é‡ï¼šä¸¤æ­¥éè¿ç®—ä¸ºtrueã€‚</p>
</li>
<li><p>falselyå˜é‡ï¼šä¸¤æ­¥éè¿ç®—ä¸ºfalseã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// é™¤æ­¤ä¹‹å¤–ï¼Œéƒ½æ˜¯ truly å˜é‡</span>
<span class="token operator">!</span><span class="token operator">!</span><span class="token number">0</span> <span class="token operator">===</span> <span class="token boolean">false</span>
<span class="token operator">!</span><span class="token operator">!</span><span class="token number">NaN</span> <span class="token operator">===</span> <span class="token boolean">false</span>
<span class="token operator">!</span><span class="token operator">!</span><span class="token string">''</span> <span class="token operator">===</span> <span class="token boolean">false</span>
<span class="token operator">!</span><span class="token operator">!</span><span class="token keyword">null</span> <span class="token operator">===</span> <span class="token boolean">false</span>
<span class="token operator">!</span><span class="token operator">!</span><span class="token keyword">undefined</span> <span class="token operator">===</span> <span class="token boolean">false</span>
<span class="token operator">!</span><span class="token operator">!</span><span class="token boolean">false</span> <span class="token operator">===</span> <span class="token boolean">false</span></code></pre></li>
</ul>
</li>
<li><p><strong>å¯¹è±¡è½¬åŸå§‹ç±»å‹æ˜¯æ ¹æ®ä»€ä¹ˆæµç¨‹è¿è¡Œçš„ï¼Ÿ</strong></p>
<p>å¯¹è±¡è½¬åŸå§‹ç±»å‹ï¼Œä¼šè°ƒç”¨å†…ç½®çš„ <code>[ToPrimitive]</code> å‡½æ•°ï¼Œå¯¹äºè¯¥å‡½æ•°è€Œè¨€ï¼Œå…¶é€»è¾‘å¦‚ä¸‹ï¼š</p>
<ol>
<li><p>å¦‚æœæœ‰ Symbol.toPrimitive() æ–¹æ³•ï¼Œä¼˜å…ˆè°ƒç”¨å†è¿”å›</p>
</li>
<li><p>è°ƒç”¨ valueOf()ï¼Œå¦‚æœè½¬æ¢ä¸ºåŸå§‹ç±»å‹ï¼Œåˆ™è¿”å›</p>
</li>
<li><p>è°ƒç”¨ toString()ï¼Œå¦‚æœè½¬æ¢ä¸ºåŸå§‹ç±»å‹ï¼Œåˆ™è¿”å›</p>
</li>
<li><p>å¦‚æœéƒ½æ²¡æœ‰è¿”å›åŸå§‹ç±»å‹ï¼Œä¼šæŠ¥é”™</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  value<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token number">4</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token string">"5"</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>toPrimitive<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token number">6</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º7</span></code></pre></li>
</ol>
</li>
<li><p><strong>å¦‚ä½•è®©if(a == 1 &amp;&amp; a == 2)æ¡ä»¶æˆç«‹ï¼Ÿ</strong></p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">&#123;</span> 
    value<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token function-variable function">valueOf</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span></code></pre></li>
</ol>
<h3 id="åŸå‹å’ŒåŸå‹é“¾"><a href="#åŸå‹å’ŒåŸå‹é“¾" class="headerlink" title="åŸå‹å’ŒåŸå‹é“¾"></a>åŸå‹å’ŒåŸå‹é“¾</h3><h4 id="è€ƒç‚¹1ï¼šç»§æ‰¿"><a href="#è€ƒç‚¹1ï¼šç»§æ‰¿" class="headerlink" title="è€ƒç‚¹1ï¼šç»§æ‰¿"></a>è€ƒç‚¹1ï¼šç»§æ‰¿</h4><ol>
<li><p><strong>es5 å’Œ es6 ç»§æ‰¿çš„åŒºåˆ«ï¼Ÿ</strong></p>
<p>es5:</p>
<ul>
<li><p>å€ŸåŠ©åŸå‹é“¾å’Œæ„é€ å‡½æ•°å®ç°ç»§æ‰¿ã€‚</p>
</li>
<li><p>å­ç±»æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡æŒ‡å‘çˆ¶ç±»æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚</p>
</li>
<li><p>éœ€è¦ä¿®æ­£å­ç±»çš„æ„é€ å‡½æ•°æŒ‡å‘ã€‚</p>
</li>
<li><p>new æ—¶å…ˆåˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡å°†å…¶ç»‘å®š thisï¼Œå­ç±»æ„é€ å‡½æ•°å†ä»¥ callã€apply è°ƒç”¨çˆ¶ç±»æ–¹æ³•ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token class-name">Parent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">Child</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token function">Parent</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token class-name">Child</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Parent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Child</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Child<span class="token punctuation">;</span>
<span class="token class-name">Child</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getAge</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> child1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
child1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
child1<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
</ul>
<p>es6:</p>
<ul>
<li><p>é€šè¿‡å…³é”®å­— class å®šä¹‰ç±»ï¼Œextends å®ç°ç»§æ‰¿ã€‚</p>
</li>
<li><p>ç±»çš„ constructor å±æ€§ç›¸å½“äº es5 ä¸­çš„æ„é€ å‡½æ•°ã€‚</p>
</li>
<li><p>new æ—¶å…ˆåˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ï¼Œå¦‚æœæ˜¯å­ç±»ï¼Œåœ¨å­ç±»çš„æ„é€ å‡½æ•°ä¸­å¿…é¡»å…ˆè°ƒç”¨ super æ–¹æ³•ï¼Œé€šè¿‡çˆ¶ç±»çš„æ„é€ å‡½æ•°å°†è¯¥å¯¹è±¡ç»‘å®šç»™ thisï¼Œå¦åˆ™å°†ä¼šæŠ¥é”™ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">Parent</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> child1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
child1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
child1<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
</ul>
</li>
<li><p><strong>èƒ½ä¸èƒ½æè¿°ä¸€ä¸‹åŸå‹é“¾ï¼Ÿ</strong></p>
<p>JavaScriptå¯¹è±¡é€šè¿‡ <code>[[Prototype]]</code> æŒ‡å‘çˆ¶ç±»å¯¹è±¡ï¼Œç›´åˆ°æŒ‡å‘ <code>Object</code> å¯¹è±¡ä¸ºæ­¢ï¼Œè¿™æ ·å°±å½¢æˆäº†ä¸€ä¸ªåŸå‹æŒ‡å‘çš„é“¾æ¡, å³åŸå‹é“¾ã€‚åœ¨å¯¹è±¡ä¸Šå¦‚æœæ‰¾ä¸åˆ°æŸä¸ªå±æ€§æˆ–è€…æ–¹æ³•ï¼Œå°±ä¼šåˆ°å®ƒçš„åŸå‹å¯¹è±¡ä¸Šæ‰¾ï¼Œè¿™æ ·å°±å®ç°äº†å¯¹è±¡ä¹‹é—´æ–¹æ³•å’Œå±æ€§çš„å…±äº«ã€‚</p>
<p>å¦å¤–ï¼š</p>
<ul>
<li>å¯¹è±¡çš„ hasOwnProperty() æ¥æ£€æŸ¥å¯¹è±¡è‡ªèº«ä¸­æ˜¯å¦å«æœ‰è¯¥å±æ€§ã€‚</li>
<li>ä½¿ç”¨ in æ£€æŸ¥å¯¹è±¡ä¸­æ˜¯å¦å«æœ‰æŸä¸ªå±æ€§æ—¶ï¼Œå¦‚æœå¯¹è±¡ä¸­æ²¡æœ‰ä½†æ˜¯åŸå‹é“¾ä¸­æœ‰ï¼Œä¹Ÿä¼šè¿”å› trueã€‚</li>
</ul>
</li>
</ol>
<h4 id="è€ƒç‚¹2ï¼šæ˜¾å¼åŸå‹å’Œéšå¼åŸå‹"><a href="#è€ƒç‚¹2ï¼šæ˜¾å¼åŸå‹å’Œéšå¼åŸå‹" class="headerlink" title="è€ƒç‚¹2ï¼šæ˜¾å¼åŸå‹å’Œéšå¼åŸå‹"></a>è€ƒç‚¹2ï¼šæ˜¾å¼åŸå‹å’Œéšå¼åŸå‹</h4><ol>
<li><p><strong>æ˜¾å¼åŸå‹å’Œéšå¼åŸå‹æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p>æ˜¾å¼åŸå‹ï¼š</p>
<ul>
<li>æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ª <code>prototype</code> å±æ€§ã€‚</li>
<li>å®šä¹‰å‡½æ•°æ—¶è‡ªåŠ¨æ·»åŠ ï¼Œé»˜è®¤å€¼æ˜¯ä¸€ä¸ªç©º <code>Object</code> å¯¹è±¡ã€‚</li>
</ul>
<p>éšå¼åŸå‹ï¼š</p>
<ul>
<li><p>æ¯ä¸ªå®ä¾‹å¯¹è±¡éƒ½æœ‰ä¸€ä¸ª<code>__proto__</code>å±æ€§ã€‚</p>
</li>
<li><p><code>new</code> å¯¹è±¡æ—¶è‡ªåŠ¨æ·»åŠ ï¼Œé»˜è®¤å€¼ä¸ºæ„é€ å‡½æ•°çš„ <code>prototype</code> å±æ€§å€¼ã€‚</p>
</li>
<li><p>å¯¹è±¡çš„éšå¼åŸå‹çš„å€¼ä¸ºå…¶å¯¹åº”æ„é€ å‡½æ•°çš„æ˜¾å¼åŸå‹çš„å€¼ã€‚</p>
</li>
<li><p><code>Object.prototype</code> çš„<code>__proto__</code>å±æ€§æŒ‡å‘ nullã€‚</p>
</li>
</ul>
</li>
</ol>
<ol start="2">
<li><p><strong>é€šè¿‡ Object.create() åˆ›å»ºå‡ºæ¥çš„å¯¹è±¡å’Œ new Object() å­—é¢é‡åˆ›å»ºçš„å¯¹è±¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p>
<p>Object.create():</p>
<ul>
<li><p>ä½¿ç”¨ç°æœ‰çš„å¯¹è±¡æ¥æä¾›æ–°åˆ›å»ºçš„å¯¹è±¡çš„<code>__proto__</code>ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> objA <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>Base<span class="token punctuation">)</span>
<span class="token comment">// ç®€æ˜“ç‰ˆæœ¬</span>
Object<span class="token punctuation">.</span><span class="token function-variable function">create</span> <span class="token operator">=</span>  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">Base</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> <span class="token function-variable function">F</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token class-name">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Base<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// objA._proto_ = F.prototype = Base&#125;;</span></code></pre></li>
</ul>
<p>new Object():</p>
<ul>
<li><p>åˆ›å»ºçš„å¯¹è±¡æ˜¯<code>Object</code>çš„å®ä¾‹ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> objB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Base</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// ç®€æ˜“ç‰ˆæœ¬</span>
 <span class="token keyword">var</span> objB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
 objB<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">Base</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
 <span class="token function">Base</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>objB<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
</ul>
<p> å­—é¢é‡åˆ›å»ºï¼š</p>
<ul>
<li><p>åˆ›å»ºçš„å¯¹è±¡æ˜¯<code>Object</code>çš„å®ä¾‹ã€‚</p>
</li>
<li><p>åˆ›å»ºæ›´é«˜æ•ˆä¸€äº›ï¼Œå°‘äº†<code>__proto__</code>æŒ‡å‘å’Œ <code>this</code> è½¬æ¢ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> objC <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre></li>
</ul>
</li>
<li><p><strong>æ„é€ å‡½æ•°ä¸åŸå‹å¯¹è±¡ã€å®ä¾‹å¯¹è±¡çš„å…³ç³»ï¼Ÿ</strong></p>
<ul>
<li>æ„é€ å‡½æ•°çš„å±æ€§ <code>prototype</code> æŒ‡å‘äº†åŸå‹å¯¹è±¡ã€‚</li>
<li>åŸå‹å¯¹è±¡ä¿å­˜ç€å®ä¾‹å…±äº«çš„æ–¹æ³•ï¼Œæœ‰ä¸€ä¸ªæŒ‡é’ˆ <code>constructor</code> æŒ‡å›æ„é€ å‡½æ•°ã€‚</li>
<li>è°ƒç”¨æ„é€ å‡½æ•°äº§ç”Ÿçš„å®ä¾‹å¯¹è±¡ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ª<code>__proto__</code>å±æ€§ï¼ŒæŒ‡å‘è¿™ä¸ªå¯¹è±¡çš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚</li>
</ul>
</li>
</ol>
<h3 id="ä½œç”¨åŸŸ"><a href="#ä½œç”¨åŸŸ" class="headerlink" title="ä½œç”¨åŸŸ"></a>ä½œç”¨åŸŸ</h3><h4 id="è€ƒç‚¹1ï¼šä½œç”¨åŸŸã€ä½œç”¨åŸŸé“¾"><a href="#è€ƒç‚¹1ï¼šä½œç”¨åŸŸã€ä½œç”¨åŸŸé“¾" class="headerlink" title="è€ƒç‚¹1ï¼šä½œç”¨åŸŸã€ä½œç”¨åŸŸé“¾"></a>è€ƒç‚¹1ï¼šä½œç”¨åŸŸã€ä½œç”¨åŸŸé“¾</h4><ol>
<li><p><strong>ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸé“¾ï¼Ÿ</strong></p>
<p>åœ¨ es6 ä¹‹å‰ï¼Œåªå­˜åœ¨ä¸¤ç§ä½œç”¨åŸŸï¼šå‡½æ•°ä½œç”¨åŸŸå’Œå…¨å±€ä½œç”¨åŸŸã€‚å½“åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­è®¿é—®ä¸€ä¸ªå˜é‡æ—¶ï¼Œé¦–å…ˆä¼šåœ¨å½“å‰ä½œç”¨åŸŸå¯»æ‰¾ã€‚å¦‚æœä¸å­˜åœ¨å¯¹åº”çš„æ ‡è¯†ç¬¦ï¼Œåˆ™ä¼šå»çˆ¶ä½œç”¨åŸŸæ‰¾ï¼Œä¸€ç›´æŸ¥æ‰¾åˆ°å…¨å±€ä½œç”¨åŸŸã€‚æ¯ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­éƒ½ä¿å­˜ç€ä¸€ä¸ªå¤–ç•Œä½œç”¨åŸŸçš„å¼•ç”¨ï¼Œè¿™äº›ä½œç”¨åŸŸå½¢æˆçš„é“¾æ¡å°±æ˜¯ä½œç”¨åŸŸé“¾ã€‚</p>
<blockquote>
<p>è¿™é‡Œå¯é€‚å½“å¼•å‡ºè¯æ³•ç¯å¢ƒã€æ‰§è¡Œä¸Šä¸‹æ–‡çš„æ¦‚å¿µå’Œä½œç”¨åŸŸçš„æœ¬è´¨ã€‚</p>
</blockquote>
<blockquote>
<p>[[scope]]æŒ‡å‘scope chainï¼ˆECMA-262v3ï¼‰æˆ–è€…Lexical Environmentï¼ˆECMA-262v5ï¼‰ã€‚è¿™å¯¹åº”äºé—­åŒ…çš„ç¯å¢ƒéƒ¨åˆ†ã€‚<br>[[scope]]ä¸­å¯è®¿é—®çš„å±æ€§åˆ—è¡¨å³æ˜¯æ ‡è¯†ç¬¦åˆ—è¡¨ï¼Œå¯¹è±¡æœ¬èº«çš„å¼•ç”¨åˆ™å¯¹åº”äºç¯å¢ƒã€‚</p>
</blockquote>
</li>
<li><p><strong>ä¸ºä»€ä¹ˆè¦å¼•å…¥ letã€constï¼Ÿ</strong></p>
<p>ES6ä¹‹å‰æ˜¯ä¸æ”¯æŒå—çº§ä½œç”¨åŸŸçš„ï¼Œå› ä¸ºå½“åˆè®¾è®¡è¿™é—¨è¯­è¨€çš„æ—¶å€™ï¼Œå¹¶æ²¡æœ‰æƒ³åˆ°JavaScriptä¼šç«èµ·æ¥ï¼Œæ‰€ä»¥åªæ˜¯æŒ‰ç…§æœ€ç®€å•çš„æ–¹å¼æ¥è®¾è®¡ã€‚æ²¡æœ‰äº†å—çº§ä½œç”¨åŸŸï¼Œå†æŠŠä½œç”¨åŸŸå†…éƒ¨çš„å˜é‡ç»Ÿä¸€æå‡æ— ç–‘æ˜¯æœ€å¿«é€Ÿã€æœ€ç®€å•çš„è®¾è®¡ï¼Œä¸è¿‡è¿™ä¹Ÿç›´æ¥å¯¼è‡´äº†å‡½æ•°ä¸­çš„å˜é‡æ— è®ºæ˜¯åœ¨å“ªé‡Œå£°æ˜çš„ï¼Œåœ¨ç¼–è¯‘é˜¶æ®µéƒ½ä¼šè¢«æå–åˆ°æ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡ç¯å¢ƒä¸­ï¼Œæ‰€ä»¥è¿™äº›å˜é‡åœ¨æ•´ä¸ªå‡½æ•°ä½“å†…éƒ¨çš„ä»»ä½•åœ°æ–¹éƒ½æ˜¯èƒ½è¢«è®¿é—®çš„ï¼Œè¿™ä¹Ÿå°±æ˜¯JavaScriptä¸­çš„å˜é‡æå‡ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼ŒES6å¼•å…¥äº†letå’Œconstå…³é”®å­—ï¼Œä»è€Œä½¿JavaScriptä¹Ÿèƒ½åƒå…¶ä»–è¯­è¨€ä¸€æ ·æ‹¥æœ‰å—çº§ä½œç”¨åŸŸã€‚</p>
</li>
</ol>
<h4 id="è€ƒç‚¹2ï¼šé—­åŒ…"><a href="#è€ƒç‚¹2ï¼šé—­åŒ…" class="headerlink" title="è€ƒç‚¹2ï¼šé—­åŒ…"></a>è€ƒç‚¹2ï¼šé—­åŒ…</h4><ol>
<li><strong>ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿ</strong></li>
</ol>
<blockquote>
<p>çº¢å®ä¹¦(p178)ä¸Šå¯¹äºé—­åŒ…çš„å®šä¹‰ï¼šé—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦å¤–ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å‡½æ•°ã€‚</p>
</blockquote>
<blockquote>
<p>MDN å¯¹é—­åŒ…çš„å®šä¹‰ä¸ºï¼šé—­åŒ…æ˜¯æŒ‡é‚£äº›èƒ½å¤Ÿè®¿é—®è‡ªç”±å˜é‡çš„å‡½æ•°ã€‚</p>
<p>ï¼ˆå…¶ä¸­è‡ªç”±å˜é‡ï¼ŒæŒ‡åœ¨å‡½æ•°ä¸­ä½¿ç”¨çš„ï¼Œä½†æ—¢ä¸æ˜¯å‡½æ•°å‚æ•°argumentsä¹Ÿä¸æ˜¯å‡½æ•°çš„å±€éƒ¨å˜é‡çš„å˜é‡ï¼Œå…¶å®å°±æ˜¯å¦å¤–ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡ã€‚ï¼‰</p>
</blockquote>
<blockquote>
<p>æ›´ç²¾ç¡®åœ°ï¼š<br>é—­åŒ…åŒ…å«ç¯å¢ƒéƒ¨åˆ†ï¼Œå®ƒæ˜¯ä¸ªåªæœ‰ä¸¤é¡¹çš„listï¼Œè¿™ä¸¤é¡¹åˆ†åˆ«æ˜¯ï¼š<br>(1)ç¯å¢ƒã€‚<br>(2)ä¸€ä¸ªæ ‡è¯†ç¬¦æˆ–è€…æ ‡è¯†ç¬¦åˆ—è¡¨ã€‚<br>ä»¥åŠæ§åˆ¶éƒ¨åˆ†ï¼Œä»–æ˜¯ä¸ªåªæœ‰ä¸€é¡¹çš„listï¼Œå”¯ä¸€çš„é¡¹æ˜¯å‡½æ•°å¯¹è±¡æœ¬èº«ã€‚</p>
</blockquote>
<ol start="2">
<li><p><strong>é—­åŒ…äº§ç”Ÿçš„åŸå› ?</strong></p>
<p>é—­åŒ…äº§ç”Ÿçš„æœ¬è´¨å°±æ˜¯ï¼Œå½“å‰ç¯å¢ƒä¸­å­˜åœ¨æŒ‡å‘çˆ¶çº§ä½œç”¨åŸŸçš„å¼•ç”¨ï¼Œé—­åŒ…ä¸­è¢«å¼•ç”¨çš„éƒ¨åˆ†æ— æ³•è¢«åƒåœ¾å›æ”¶ã€‚é—­åŒ…çš„å½¢æˆå…¶å®å°±æ˜¯ä½œç”¨åŸŸé“¾æ²¡æœ‰è¢«é‡Šæ”¾ï¼Œå› æ­¤ä¼šé€ æˆå†…å­˜æ³„éœ²ã€‚</p>
</li>
<li><p><strong>é—­åŒ…æœ‰å“ªäº›è¡¨ç°å½¢å¼ï¼Ÿ</strong></p>
<ul>
<li><p>è¿”å›ä¸€ä¸ªå‡½æ•°ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span>
  <span class="token keyword">function</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> f2<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p>åœ¨å‡½æ•°å¤–éƒ¨è°ƒç”¨ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> f3<span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span>
  <span class="token function-variable function">f3</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p>ä½œä¸ºå‡½æ•°å‚æ•°ä¼ é€’ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token function">bar</span><span class="token punctuation">(</span>baz<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token comment">// è¿™å°±æ˜¯é—­åŒ…</span>
  <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// è¾“å‡º2ï¼Œè€Œä¸æ˜¯1</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p>åœ¨å®šæ—¶å™¨ã€äº‹ä»¶ç›‘å¬ã€Ajaxè¯·æ±‚ã€è·¨çª—å£é€šä¿¡ã€Web Workersæˆ–è€…ä»»ä½•å¼‚æ­¥ä¸­ï¼Œåªè¦ä½¿ç”¨äº†å›è°ƒå‡½æ•°ï¼Œå®é™…ä¸Šå°±æ˜¯åœ¨ä½¿ç”¨é—­åŒ…ã€‚(æ‰§è¡Œä½ç½®ä¸åœ¨å½“å‰æ‰§è¡Œç¯å¢ƒ)</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// å®šæ—¶å™¨</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">timeHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'111'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>ï¼Œ<span class="token number">100</span><span class="token punctuation">)</span>

<span class="token comment">// äº‹ä»¶ç›‘å¬</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'DOM Listener'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></code></pre></li>
<li><p>IIFE(ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼)åˆ›å»ºé—­åŒ…, ä¿å­˜äº†<code>å…¨å±€ä½œç”¨åŸŸwindow</code>å’Œ<code>å½“å‰å‡½æ•°çš„ä½œç”¨åŸŸ</code></p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token constant">IIFE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token comment">// è¾“å‡º2</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p>å‡½æ•°é€’å½’è°ƒç”¨è‡ªèº«ã€‚</p>
</li>
</ul>
</li>
</ol>
<h4 id="è€ƒç‚¹3ï¼šthis"><a href="#è€ƒç‚¹3ï¼šthis" class="headerlink" title="è€ƒç‚¹3ï¼šthis"></a>è€ƒç‚¹3ï¼šthis</h4><ol>
<li><p><strong>è°ˆè°ˆä½ å¯¹JSä¸­ this çš„ç†è§£ã€‚</strong></p>
<p>this æ˜¯éå¸¸ç®€å•çš„ä¸œè¥¿ã€‚åªéœ€è¦ç†è§£å®ƒçš„æ‰§è¡Œè§„åˆ™å°±OKã€‚</p>
<p>this æ˜¯è¿è¡Œæ—¶åŠ¨æ€ç»‘å®šï¼Œæ‰€ä»¥ this çš„å€¼ä¸å®ƒæ‰€å¤„çš„ä½ç½®æ— å…³ï¼Œè€Œæ˜¯ä¸å½“å‰çš„æ‰§è¡Œç¯å¢ƒ(ä¸Šä¸‹æ–‡)æœ‰å…³ã€‚</p>
<p><em>ä¸€äº› this éšå¼ç»‘å®šçš„åœºæ™¯:</em></p>
<ul>
<li><p>å…¨å±€ä¸Šä¸‹æ–‡é»˜è®¤thisæŒ‡å‘ window, ä¸¥æ ¼æ¨¡å¼ä¸‹æŒ‡å‘ undefinedã€‚</p>
</li>
<li><p>ç›´æ¥è°ƒç”¨ã€‚thisç›¸å½“äºå…¨å±€ä¸Šä¸‹æ–‡ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token function-variable function">a</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> func <span class="token operator">=</span> obj<span class="token punctuation">.</span>a<span class="token punctuation">;</span>
<span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p><code>å¯¹è±¡.æ–¹æ³•</code>çš„æƒ…å†µï¼ŒthisæŒ‡å‘è¿™ä¸ªå¯¹è±¡ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js">obj<span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p>DOMäº‹ä»¶ç»‘å®šä¸­ï¼Œ<code>onclick</code>å’Œ<code>addEventerListener</code>ä¸­ this é»˜è®¤æŒ‡å‘ç»‘å®šäº‹ä»¶çš„å…ƒç´ ã€‚</p>
</li>
<li><p>new + æ„é€ å‡½æ•°ï¼Œæ­¤æ—¶æ„é€ å‡½æ•°ä¸­çš„ this æŒ‡å‘å®ä¾‹å¯¹è±¡ã€‚</p>
</li>
<li><p>ç®­å¤´å‡½æ•°æ²¡æœ‰ thisï¼Œå› æ­¤ä¹Ÿä¸èƒ½ç»‘å®šã€‚é‡Œé¢çš„ this ä¼šæŒ‡å‘å½“å‰æœ€è¿‘çš„éç®­å¤´å‡½æ•°çš„ thisï¼Œæ‰¾ä¸åˆ°å°±æ˜¯window(ä¸¥æ ¼æ¨¡å¼æ˜¯undefined)ã€‚</p>
</li>
</ul>
<p><em>ç»¼ä¸Šï¼Œ this çš„ç»‘å®šæ˜¯(æŒ‰ä¼˜å…ˆçº§):</em></p>
<ul>
<li> applyã€call å°† this ç»‘å®šä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚new æ–¹å¼è°ƒç”¨å‡½æ•°ï¼Œthis ç»‘å®šè¿”å›çš„å¯¹è±¡ã€‚</li>
<li>this ç»‘å®šè°ƒç”¨å‡½æ•°çš„ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚</li>
<li>this é»˜è®¤ç»‘å®š global/windowï¼Œä¸¥æ ¼æ¨¡å¼æ˜¯ undefinedã€‚</li>
<li><strong>ç‰¹æ®Š</strong>ï¼Œbind åªè¿”å›æ”¹å˜ this æŒ‡å‘çš„å‡½æ•°å‰¯æœ¬ï¼Œä¸æ”¹å˜å½“å‰æ‰§è¡Œç¯å¢ƒçš„ thisã€‚(è¿”å›çš„å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡æ”¹å˜)</li>
</ul>
<p><em>åœ¨ <code>es6</code> ç®­å¤´å‡½æ•°ä¸­ï¼š</em></p>
<ul>
<li>ç®­å¤´å‡½æ•°ä¸ä¼šåˆ›å»º thisï¼Œåªä¼šä»çˆ¶ä½œç”¨åŸŸç»§æ‰¿ thisã€‚</li>
<li>æŒ‡å‘æœ€è¿‘çš„éç®­å¤´å‡½æ•°çš„ thisã€‚</li>
<li>å¦‚æœæ²¡æ‰¾åˆ°ï¼Œthis æŒ‡å‘ windowï¼ˆä¸¥æ ¼æ¨¡å¼ undefinedï¼‰ã€‚</li>
</ul>
<blockquote>
<p>this ä¼ é€’çš„æœ¬è´¨ï¼š</p>
<p>å¯¹ <code>obj.method</code> è®¿é—®çš„ç»“æœå¹¶éåªæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè€Œæ˜¯ä¸€ä¸ª <code>Reference Type</code> çš„å€¼ã€‚</p>
<p><code>Reference Type</code> çš„å€¼æ˜¯ä¸€ä¸ªä¸‰ä¸ªå€¼çš„ç»„åˆ <code>(base, name, strict)</code>ï¼Œå…¶ä¸­ï¼š</p>
<ul>
<li><code>base</code> æ˜¯å¯¹è±¡ã€‚</li>
<li><code>name</code> æ˜¯å±æ€§åã€‚</li>
<li><code>strict</code> åœ¨ <code>use strict</code> æ¨¡å¼ä¸‹ä¸º trueã€‚</li>
</ul>
<p>å½“ <code>()</code> è¢«åœ¨ <code>Reference Type</code> ä¸Šè°ƒç”¨æ—¶ï¼Œå®ƒä»¬ä¼šæ¥æ”¶åˆ°å…³äºå¯¹è±¡å’Œå¯¹è±¡çš„æ–¹æ³•çš„å®Œæ•´ä¿¡æ¯ï¼Œç„¶åå¯ä»¥è®¾ç½®æ­£ç¡®çš„ <code>this</code>ã€‚</p>
</blockquote>
</li>
<li><p><strong>å¦‚ä½•æ”¹å˜ thisï¼Ÿ</strong></p>
<p>ä½¿ç”¨ call/apply/bindå¯ä»¥æ˜¾ç¤ºç»‘å®šï¼š</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  name<span class="token operator">:</span> <span class="token string">"a"</span><span class="token punctuation">,</span>
  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  name<span class="token operator">:</span> <span class="token string">"b"</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
obj1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//a</span>
obj1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token comment">//b</span>
obj1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token comment">//b</span>
obj1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//b</span>
obj1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//a</span></code></pre></li>
<li><p><strong>å¦‚ä½•å®ç°ä¸€ä¸ª call/apply å‡½æ•°ï¼Ÿ</strong></p>
<p>å…³é”®æ˜¯å¦‚ä½•å®ç°å‘åŸå‡½æ•°ä¼ é€’æ•°é‡ä¸å®šçš„å‚æ•°ã€‚ä½¿ç”¨ es6 çš„å±•å¼€è¿ç®—ç¬¦å¯ä»¥è½»æ¾åšåˆ°(å¦‚æœä¸é™å®š es3)ã€‚</p>
<p>å¦å¤–ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li><code>eval(string)</code><del>é­”é¬¼</del></li>
<li><code>new Function([arg1[, arg2[, ...argN]],] functionBody)</code></li>
</ul>
<p>callï¼š</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//ç®€æ˜“ç‰ˆï¼Œä¸è€ƒè™‘åŒåè¦†ç›–é—®é¢˜</span>
<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">call</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  context <span class="token operator">=</span> context <span class="token operator">||</span> window<span class="token punctuation">;</span>
  context<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

  <span class="token keyword">var</span> result <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">delete</span> context<span class="token punctuation">.</span>fn
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>applyï¼š</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">apply</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  context <span class="token operator">=</span> context <span class="token operator">||</span> window<span class="token punctuation">;</span>
  context<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> result <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">delete</span> context<span class="token punctuation">.</span>fn
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
<li><p><strong>å¦‚ä½•æ¨¡æ‹Ÿå®ç°ä¸€ä¸ª bind çš„æ•ˆæœï¼Ÿ</strong></p>
<p>è¦å®ç° bind æ•ˆæœï¼Œéœ€è¦æ»¡è¶³ä»¥ä¸‹ä¸¤ç‚¹ï¼š</p>
<ol>
<li>å¯¹äºæ™®é€šå‡½æ•°ï¼Œç»‘å®šthisæŒ‡å‘ã€‚</li>
<li>å¯¹äºæ„é€ å‡½æ•°ï¼Œè¦ä¿è¯åŸå‡½æ•°çš„åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§ä¸èƒ½ä¸¢å¤±ã€‚</li>
</ol>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myBind</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">bind</span><span class="token punctuation">(</span><span class="token parameter">thisArg</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span> <span class="token operator">!==</span> <span class="token string">"function"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">+</span> <span class="token string">" must be a function"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token comment">// å­˜å‚¨è°ƒç”¨bindçš„å‡½æ•°æœ¬èº«</span>
  <span class="token keyword">var</span> self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token comment">// å»é™¤thisArgçš„å…¶ä»–å‚æ•° è½¬æˆæ•°ç»„</span>
  <span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> <span class="token function-variable function">bound</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// bindè¿”å›çš„å‡½æ•° çš„å‚æ•°è½¬æˆæ•°ç»„</span>
    <span class="token keyword">var</span> boundArgs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> finalArgs <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>boundArgs<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// new è°ƒç”¨æ—¶ï¼Œå…¶å®this instanceof boundåˆ¤æ–­ä¹Ÿä¸æ˜¯å¾ˆå‡†ç¡®ã€‚es6 new.targetå°±æ˜¯è§£å†³è¿™ä¸€é—®é¢˜çš„ã€‚</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">bound</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// è¿™é‡Œæ˜¯å®ç°çš„ new çš„ç¬¬ 1, 2, 4 æ­¥</span>
      <span class="token comment">// 1.åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡</span>
      <span class="token comment">// 2.å¹¶ä¸”æ‰§è¡Œ[[Prototype]]é“¾æ¥</span>
      <span class="token comment">// 4.é€šè¿‡`new`åˆ›å»ºçš„æ¯ä¸ªå¯¹è±¡å°†æœ€ç»ˆè¢«`[[Prototype]]`é“¾æ¥åˆ°è¿™ä¸ªå‡½æ•°çš„`prototype`å¯¹è±¡ä¸Šã€‚</span>
      <span class="token comment">// selfå¯èƒ½æ˜¯ES6çš„ç®­å¤´å‡½æ•°ï¼Œæ²¡æœ‰prototypeï¼Œæ‰€ä»¥å°±æ²¡å¿…è¦å†æŒ‡å‘åšprototypeæ“ä½œã€‚</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// ES5 æä¾›çš„æ–¹æ¡ˆ Object.create()</span>
        <span class="token comment">// bound.prototype = Object.create(self.prototype);</span>
        <span class="token comment">// ä½† æ—¢ç„¶æ˜¯æ¨¡æ‹ŸES5çš„bindï¼Œé‚£æµè§ˆå™¨ä¹ŸåŸºæœ¬æ²¡æœ‰å®ç°Object.create()</span>
        <span class="token comment">// æ‰€ä»¥é‡‡ç”¨ MDN ployfillæ–¹æ¡ˆ https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/create</span>
        <span class="token keyword">function</span> <span class="token function">Empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
        <span class="token class-name">Empty</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> self<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
        bound<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
      <span class="token comment">// è¿™é‡Œæ˜¯å®ç°çš„ new çš„ç¬¬ 3 æ­¥</span>
      <span class="token comment">// 3.ç”Ÿæˆçš„æ–°å¯¹è±¡ä¼šç»‘å®šåˆ°å‡½æ•°è°ƒç”¨çš„`this`ã€‚</span>
      <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token function">self</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> finalArgs<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// è¿™é‡Œæ˜¯å®ç°çš„ new çš„ç¬¬ 5 æ­¥</span>
      <span class="token comment">// 5.å¦‚æœå‡½æ•°æ²¡æœ‰è¿”å›å¯¹è±¡ç±»å‹`Object`(åŒ…å«`Functoin`, `Array`, `Date`, `RegExg`, `Error`)ï¼Œ</span>
      <span class="token comment">// é‚£ä¹ˆ`new`è¡¨è¾¾å¼ä¸­çš„å‡½æ•°è°ƒç”¨ä¼šè‡ªåŠ¨è¿”å›è¿™ä¸ªæ–°çš„å¯¹è±¡ï¼Œå¦åˆ™è¿”å›å‡½æ•°çš„è¿”å›å€¼ã€‚</span>
      <span class="token keyword">var</span> isObject <span class="token operator">=</span> <span class="token keyword">typeof</span> result <span class="token operator">===</span> <span class="token string">"object"</span> <span class="token operator">&amp;&amp;</span> result <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> isFunction <span class="token operator">=</span> <span class="token keyword">typeof</span> result <span class="token operator">===</span> <span class="token string">"function"</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>isObject <span class="token operator">||</span> isFunction<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// applyä¿®æ”¹thisæŒ‡å‘ï¼ŒæŠŠä¸¤ä¸ªå‡½æ•°çš„å‚æ•°åˆå¹¶ä¼ ç»™selfå‡½æ•°ï¼Œå¹¶æ‰§è¡Œselfå‡½æ•°ï¼Œè¿”å›æ‰§è¡Œç»“æœ</span>
      <span class="token keyword">return</span> <span class="token function">self</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>thisArg<span class="token punctuation">,</span> finalArgs<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> bound<span class="token punctuation">;</span><span class="token comment">//è¿”å›çš„å‡½æ•°åº”å…·å¤‡æ™®é€šå‡½æ•°å’Œæ„é€ å‡½æ•°çš„åŠŸèƒ½</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre></li>
<li><p><strong>new çš„æ¨¡æ‹Ÿå®ç°</strong></p>
<p>new åšäº†ä»€ä¹ˆï¼Ÿ</p>
<ol>
<li><p>åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ã€‚</p>
</li>
<li><p>è¿™ä¸ªå¯¹è±¡ä¼šè¢«æ‰§è¡Œ <code>[[Prototype]]</code>(ä¹Ÿå°±æ˜¯<code>__proto__</code>)é“¾æ¥ã€‚</p>
</li>
<li><p>ç”Ÿæˆçš„æ–°å¯¹è±¡ç»‘å®šåˆ°å‡½æ•°è°ƒç”¨çš„ thisã€‚</p>
</li>
<li><p>é€šè¿‡ new åˆ›å»ºçš„æ¯ä¸ªå¯¹è±¡æœ€ç»ˆå°†è¢« <code>[[Prototype]]</code>é“¾æ¥åˆ°å‡½æ•°çš„ <code>prototype</code>å¯¹è±¡ä¸Šã€‚</p>
</li>
<li><p>å¦‚æœå‡½æ•°æ²¡æœ‰è¿”å›å¯¹è±¡ç±»å‹<code>Object</code>(<code>Function</code>ã€<code>Array</code>ã€<code>Date</code>ã€<code>RegExp</code>ã€<code>Error</code>)ï¼Œé‚£ä¹ˆ new è¡¨è¾¾å¼çš„å‡½æ•°è°ƒç”¨ä¼šè‡ªåŠ¨è¿”å›è¿™ä¸ªæ–°çš„å¯¹è±¡ã€‚</p>
</li>
</ol>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">newOperator</span><span class="token punctuation">(</span><span class="token parameter">ctor</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> ctor <span class="token operator">!==</span> <span class="token string">"function"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">throw</span> <span class="token string">"newOperator function the first param must be a function"</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  newOperator<span class="token punctuation">.</span>target <span class="token operator">=</span> ctor<span class="token punctuation">;</span>
  <span class="token keyword">var</span> newObj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>ctor<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> argsArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> ctorReturnResult <span class="token operator">=</span> <span class="token function">ctor</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>newObj<span class="token punctuation">,</span> argsArr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> isObject <span class="token operator">=</span>
    <span class="token keyword">typeof</span> ctorReturnResult <span class="token operator">===</span> <span class="token string">"object"</span> <span class="token operator">&amp;&amp;</span> ctorReturnResult <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> isFunction <span class="token operator">=</span> <span class="token keyword">typeof</span> ctorReturnResult <span class="token operator">===</span> <span class="token string">"function"</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>isObject <span class="token operator">||</span> isFunction<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> ctorReturnResult<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> newObj<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
</ol>
<h3 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h3><h4 id="è€ƒç‚¹1ï¼šç±»æ•°ç»„å¯¹è±¡"><a href="#è€ƒç‚¹1ï¼šç±»æ•°ç»„å¯¹è±¡" class="headerlink" title="è€ƒç‚¹1ï¼šç±»æ•°ç»„å¯¹è±¡"></a>è€ƒç‚¹1ï¼šç±»æ•°ç»„å¯¹è±¡</h4><ol>
<li><p><strong>å‡½æ•°çš„ arguments ä¸ºä»€ä¹ˆä¸æ˜¯æ•°ç»„ï¼Ÿ</strong></p>
<p>å› ä¸ºå‡½æ•°çš„ arguments å®è´¨ä¸Šæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶å±æ€§æ˜¯ 0ï¼Œ1ï¼Œ2â€¦â€¦è¿™æ ·æ’åˆ—ï¼Œæœ€åè¿˜æœ‰ calle å’Œ length å±æ€§ã€‚å®ƒç±»ä¼¼äºæ•°ç»„ï¼Œå´å¹¶ä¸æ˜¯æ•°ç»„ã€‚è¿™æ ·çš„å¯¹è±¡å«åšç±»æ•°ç»„å¯¹è±¡ã€‚</p>
<p>å¸¸ç”¨çš„ç±»æ•°ç»„è¿˜æœ‰ï¼š</p>
<ul>
<li>ç”¨ <code>getElementsByTagName/ClassName()</code> è·å¾—çš„ <code>HTMLCollection</code></li>
<li>ç”¨<code>querySelector</code> è·å¾—çš„ <code>nodeList</code></li>
</ul>
<p>è¿™æ ·çš„è¯å¾ˆå¤šæ•°ç»„çš„æ–¹æ³•å°±ä¸èƒ½ä½¿ç”¨äº†ã€‚å¿…è¦æ—¶éœ€è¦å°†ä»–ä»¬è½¬åŒ–ä¸ºæ•°ç»„ã€‚</p>
</li>
<li><p><strong>ç±»æ•°ç»„å¯¹è±¡å¦‚ä½•è½¬åŒ–æˆæ•°ç»„ï¼Ÿ</strong></p>
<p><em>å®ç°æ–¹æ³•å¾ˆå¤šï¼š</em></p>
<ul>
<li><p><code>Array.prototype.slice.call()</code></p>
<p><code>slice</code> è¿”å›åŸæ•°ç»„çš„<strong>æµ…æ‹·è´</strong>ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> args<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sum<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=></span> sum <span class="token operator">+</span> cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
<li><p><code>Array.prototype.splice.call()</code></p>
<p><code>splice</code> ä¼šè¿”å›åˆ é™¤çš„æ•°ç»„å…ƒç´ ï¼Œå¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> args<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sum<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=></span> sum <span class="token operator">+</span> cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
<li><p><code>Array.from()</code></p>
<p>ä»ä¸€ä¸ªç±»ä¼¼æ•°ç»„æˆ–å¯è¿­ä»£å¯¹è±¡åˆ›å»ºä¸€ä¸ªæ–°çš„ï¼Œæµ…æ‹·è´çš„æ•°ç»„å®ä¾‹ã€‚</p>
<p>ä¹Ÿå¯ç”¨æ¥è½¬æ¢ <code>Setã€Map</code></p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> args <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> args<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sum<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=></span> sum <span class="token operator">+</span> cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
<li><p>ES6 å±•å¼€è¿ç®—ç¬¦</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> args<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sum<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=></span> sum <span class="token operator">+</span> cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
<li><p><code>concat + apply</code></p>
<p>åˆ©ç”¨ <code>apply</code> æ–¹æ³•ä¼šæŠŠç¬¬äºŒä¸ªå‚æ•°å±•å¼€ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sum<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=></span> sum <span class="token operator">+</span> cur<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
<li><p>åŸå§‹æ–¹æ³•ï¼Œfor å¾ªç¯éå†ã€‚</p>
</li>
</ul>
</li>
</ol>
<h4 id="è€ƒç‚¹2ï¼šæ•°ç»„éå†"><a href="#è€ƒç‚¹2ï¼šæ•°ç»„éå†" class="headerlink" title="è€ƒç‚¹2ï¼šæ•°ç»„éå†"></a>è€ƒç‚¹2ï¼šæ•°ç»„éå†</h4><ol>
<li><p><strong>forEach ä¸­ return æœ‰æ•ˆæœå—ï¼Ÿå¦‚ä½•ä¸­æ–­ forEach å¾ªç¯ï¼Ÿ</strong></p>
<p>åœ¨ forEach ä¸­ return å‡½æ•°ä¸ä¼šè¿”å›ã€‚</p>
<p>ä¸­æ–­æ–¹æ³•ï¼š</p>
<ul>
<li><p>ä½¿ç”¨ <code>try...catch</code> åœ¨ <code>catch</code> ä¸­æ•è·å¼‚å¸¸å¹¶æŠ›å‡ºæ–°å¼‚å¸¸ã€‚</p>
</li>
<li><p>å®˜æ–¹æ¨èæ–¹æ³•ï¼ˆæ›¿æ¢æ–¹æ³•ï¼‰ï¼šç”¨ <code>every</code> å’Œ <code>some</code> æ›¿ä»£ forEach å‡½æ•°ã€‚<code>every</code> åœ¨ç¢°åˆ° <code>return false</code> çš„æ—¶å€™ï¼Œä¸­æ­¢å¾ªç¯ã€‚<code>some</code> åœ¨ç¢°åˆ° <code>return true</code> çš„æ—¶å€™ï¼Œä¸­æ­¢å¾ªç¯ã€‚</p>
<blockquote>
<p><code>every</code> å’Œ <code>some</code> éƒ½æ˜¯å¯¹æ•°ç»„çš„æ¯ä¸ªå…ƒç´ ç”¨ä¸€ä¸ªæŒ‡å®šçš„å‡½æ•°æ£€æµ‹ã€‚åŒºåˆ«åœ¨äºæ£€æµ‹çš„ç»“æœã€‚</p>
<p><code>every</code> å…¨éƒ¨é€šè¿‡è¿”å› <code>true</code>ï¼Œ<code>some</code> è‡³å°‘ä¸€ä¸ªé€šè¿‡è¿”å› <code>true</code></p>
</blockquote>
</li>
</ul>
</li>
<li><p><strong>åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦åŒ…å«æŸä¸ªå€¼</strong></p>
<ul>
<li><p><code>Array.prototype.indexOf()</code></p>
<p><code>arr.indexOf(searchElement[, fromIndex])</code></p>
<p>è¿”å›åœ¨æ•°ç»„ä¸­å¯ä»¥æ‰¾åˆ°ç»™å®šå…ƒç´ çš„ç¬¬ä¸€ä¸ªç´¢å¼•ã€‚ä¸å­˜åœ¨è¿”å› <code>-1</code></p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> index<span class="token operator">=</span>arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2</span></code></pre></li>
<li><p><code>Array.prototype.includes()</code></p>
<p><code>arr.includes(valueToFind[, fromIndex])</code></p>
<p>æ ¹æ®æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šå…ƒç´ è¿”å› true å’Œ false</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"å­˜åœ¨"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">else</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"ä¸å­˜åœ¨"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p><code>Array.prototype.find()</code></p>
<p><code>arr.find(callback[, thisArg])</code></p>
<p>è¿”å›æ»¡è¶³æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span><span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> item <span class="token operator">></span> <span class="token number">3</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p><code>Array.prototype.findIndex()</code></p>
<p>è¿”å›æ»¡è¶³æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œä¸å­˜åœ¨è¿”å› <code>-1</code></p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span><span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> item <span class="token operator">></span> <span class="token number">3</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
</ul>
</li>
</ol>
<h4 id="è€ƒç‚¹3ï¼šæ•°ç»„æ‰å¹³åŒ–"><a href="#è€ƒç‚¹3ï¼šæ•°ç»„æ‰å¹³åŒ–" class="headerlink" title="è€ƒç‚¹3ï¼šæ•°ç»„æ‰å¹³åŒ–"></a>è€ƒç‚¹3ï¼šæ•°ç»„æ‰å¹³åŒ–</h4><ol>
<li><p><strong>å®ç°æ•°ç»„ flatten æ–¹æ³•</strong></p>
<p>å¤šç»´æ•°ç»„è½¬åŒ–ä¸ºä¸€ç»´æ•°ç»„ã€‚</p>
<ol>
<li><p>es6 çš„ <code>flat</code> æ–¹æ³•</p>
<p>æŒ‰ç…§æŒ‡å®šçš„æ·±åº¦é€’å½’éå†æ•°ç»„ï¼Œå°†æ‰€æœ‰å…ƒç´ å’Œå­æ•°ç»„çš„å…ƒç´ åˆå¹¶ä¸ºä¸€ä¸ªæ–°æ•°ç»„è¿”å›ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js">ary <span class="token operator">=</span> ary<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p><code>replace + split + map</code></p>
<p><code>replace</code>å°†<code>[]</code>æ›¿æ¢ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œ <code>split</code> åˆ†å‰²ï¼Œ<code>map</code> è½¬æ¢ä¸ºæ•°å­—ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>ary<span class="token punctuation">)</span>
ary <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\[|\])</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=></span><span class="token operator">+</span>item<span class="token punctuation">)</span></code></pre></li>
<li><p><code>replace + JSON.parse</code></p>
<p><code>replace</code> æ›¿æ¢å­—ç¬¦ä¸²ï¼Œ<code>JSON.parse</code> è½¬åŒ–ä¸ºå¯¹è±¡ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>ary<span class="token punctuation">)</span><span class="token punctuation">;</span>
str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\[|\])</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
str <span class="token operator">=</span> <span class="token string">'['</span> <span class="token operator">+</span> str <span class="token operator">+</span> <span class="token string">']'</span><span class="token punctuation">;</span>
ary <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p>æ™®é€šé€’å½’</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">flatten</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      res <span class="token operator">=</span> res<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token function">flatten</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
      res<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> res<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
<li><p><code>reduce</code> è¿­ä»£</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">flatten</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=></span> pre<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">flatten</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span> <span class="token operator">:</span> cur<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>

<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">flatten</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
    <span class="token operator">?</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">[</span><span class="token operator">...</span>pre<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token function">flatten</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token operator">:</span> <span class="token punctuation">[</span>arr<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
<li><p>æ‰©å±•è¿ç®—ç¬¦</p>
<p>åˆ©ç”¨å±•å¼€è¯­æ³•ç»“åˆ <code>concat</code> ç‰¹æ€§</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">flatten</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span>isArray<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
</ol>
</li>
</ol>
<h4 id="è€ƒç‚¹4ï¼šæ•°ç»„å»é‡"><a href="#è€ƒç‚¹4ï¼šæ•°ç»„å»é‡" class="headerlink" title="è€ƒç‚¹4ï¼šæ•°ç»„å»é‡"></a>è€ƒç‚¹4ï¼šæ•°ç»„å»é‡</h4><ol>
<li><p><strong>å®ç°æ•°ç»„å»é‡ï¼Œæ–¹æ³•è¶Šå¤šè¶Šå¥½</strong></p>
<ul>
<li><p>Set å»é‡</p>
<p>æœ‰ä¸ªå°é—®é¢˜ï¼Œä¸èƒ½å®Œç¾å¤„ç†ç¨€ç–æ•°ç»„</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">]</span></code></pre></li>
<li><p>Map å»é‡</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">arrayNonRepeatfy</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> arr<span class="token punctuation">)</span> array<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å¤„ç†ç¨€ç–æ•°ç»„æƒ…å†µ</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> array<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
<li><p>ä¸¤å±‚å¾ªç¯éå† + splice å»é‡</p>
<p>ç¼ºç‚¹æ˜¯ä¼šæ”¹å˜åŸæ•°ç»„</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">arrayNonRepeatfy</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        j<span class="token operator">--</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
<li><p>ä¸€å±‚å¾ªç¯éå† + indexOf å»é‡</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">arrayNonRepeatfy</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> i<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
      array<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> array<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
<li><p>sort æ’åºä¸¤ä¸¤æ¯”è¾ƒå»é‡</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">arrayNonRepeatfy</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  arr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token operator">=></span>a<span class="token operator">-</span>b<span class="token punctuation">)</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!==</span> arr<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
      array<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> array<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
<li><p>ä¸€å±‚å¾ªç¯éå† + includes å»é‡</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">arrayNonRepeatfy</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>array<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        array<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> array<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
<li><p>filter + indexOf å»é‡</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">arrayNonRepeatfy</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prev<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span> <span class="token operator">=></span> arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>prev<span class="token punctuation">)</span> <span class="token operator">==</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
<li><p>reduce + includes å»é‡</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">arrayNonRepeatfy</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>acc<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span> <span class="token operator">?</span> acc <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>acc<span class="token punctuation">,</span> cur<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
</ul>
</li>
</ol>
<h4 id="è€ƒç‚¹5ï¼šé«˜é˜¶å‡½æ•°"><a href="#è€ƒç‚¹5ï¼šé«˜é˜¶å‡½æ•°" class="headerlink" title="è€ƒç‚¹5ï¼šé«˜é˜¶å‡½æ•°"></a>è€ƒç‚¹5ï¼šé«˜é˜¶å‡½æ•°</h4><ol>
<li><p><strong>ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°ï¼Ÿ</strong></p>
<p>ä¸€ä¸ªå‡½æ•°å¯ä»¥æ¥æ”¶ä¸€ä¸ªæˆ–å¤šä¸ªå‡½æ•°ä½œä¸ºå‚æ•°æˆ–è€…è¿”å›å€¼ä¸ºä¸€ä¸ªå‡½æ•°ã€‚</p>
<p>å¯å½’çº³ä¸ºï¼š</p>
<ul>
<li>è¾“å…¥ä¸Šæ¥æ”¶ä¸€ä¸ªæˆ–å¤šä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ã€‚</li>
<li>è¾“å‡ºä¸Šè¿”å›ä¸€ä¸ªå‡½æ•°ã€‚</li>
</ul>
</li>
<li><p><strong>æ•°ç»„ä¸­çš„é«˜é˜¶å‡½æ•°æœ‰å“ªäº›ï¼Ÿ</strong></p>
<ol>
<li><p><code>Array.prototype.map()</code></p>
<p>åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶ç»“æœæ˜¯è¯¥æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ è°ƒç”¨ä¸€æ¬¡æä¾›çš„å‡½æ•°åçš„è¿”å›å€¼ã€‚</p>
<p>è¯­æ³•ï¼š</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> new_array <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token parameter">currentValue<span class="token punctuation">[</span><span class="token punctuation">,</span> index<span class="token punctuation">[</span><span class="token punctuation">,</span> array<span class="token punctuation">]</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token comment">// Return element for new_array </span>
<span class="token punctuation">&#125;</span><span class="token punctuation">[</span><span class="token punctuation">,</span> thisArg<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>å‚æ•°ï¼š</p>
<p><code>callback</code>ï¼šç”Ÿæˆæ–°æ•°ç»„å…ƒç´ çš„å‡½æ•°ï¼Œä½¿ç”¨ä¸‰ä¸ªå‚æ•°ï¼š</p>
<ul>
<li><code>currentValue</code>ï¼š<code>callback</code> æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ ã€‚</li>
<li><code>index</code>å¯é€‰ï¼š<code>callback</code> æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•ã€‚</li>
<li><code>array</code>å¯é€‰ï¼š<code>map</code> æ–¹æ³•è°ƒç”¨çš„æ•°ç»„ã€‚</li>
</ul>
<p><code>thisArg</code>å¯é€‰ï¼šæ‰§è¡Œ <code>callback</code> å‡½æ•°æ—¶å€¼è¢«ç”¨ä½œ<code>this</code>ã€‚</p>
</li>
<li><p><code>Array.prototype.reduce()</code></p>
<p>å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ æ‰§è¡Œæä¾›çš„ <code>reducer</code> å‡½æ•°ï¼Œå°†å…¶ç»“æœæ±‡æ€»ä¸ºå•ä¸ªè¿”å›ã€‚</p>
<p>è¯­æ³•ï¼š</p>
<pre class="language-js" data-language="js"><code class="language-js">arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token function">callback</span><span class="token punctuation">(</span>accumulator<span class="token punctuation">,</span> currentValue<span class="token punctuation">[</span><span class="token punctuation">,</span> index<span class="token punctuation">[</span><span class="token punctuation">,</span> array<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">,</span> initialValue<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>å‚æ•°ï¼š</p>
<p><code>callback</code>ï¼šæ‰§è¡Œæ•°ç»„ä¸­æ¯ä¸ªå€¼ (å¦‚æœæ²¡æœ‰æä¾› <code>initialValueåˆ™ç¬¬ä¸€ä¸ªå€¼é™¤å¤–</code>)çš„å‡½æ•°ï¼ŒåŒ…å«å››ä¸ªå‚æ•°ï¼š</p>
<p><code>accumulator</code>ï¼šç´¯è®¡å™¨ç´¯è®¡å›è°ƒçš„è¿”å›å€¼; å®ƒæ˜¯ä¸Šä¸€æ¬¡è°ƒç”¨å›è°ƒæ—¶è¿”å›çš„ç´¯ç§¯å€¼ï¼Œæˆ–<code>initialValue</code>ï¼ˆè§äºä¸‹æ–¹ï¼‰ã€‚</p>
<ul>
<li><code>currentValue</code>ï¼šæ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å…ƒç´ ã€‚</li>
<li><code>index</code> å¯é€‰ï¼šæ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•ã€‚ å¦‚æœæä¾›äº†<code>initialValue</code>ï¼Œåˆ™èµ·å§‹ç´¢å¼•å·ä¸º0ï¼Œå¦åˆ™ä»ç´¢å¼•1èµ·å§‹ã€‚</li>
<li><code>array</code>å¯é€‰ï¼šè°ƒç”¨<code>reduce()</code>çš„æ•°ç»„</li>
</ul>
<p><code>initialValue</code>å¯é€‰ï¼šä½œä¸ºç¬¬ä¸€æ¬¡è°ƒç”¨ <code>callback</code>å‡½æ•°æ—¶çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼ã€‚ å¦‚æœæ²¡æœ‰æä¾›åˆå§‹å€¼ï¼Œåˆ™å°†ä½¿ç”¨æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚ åœ¨æ²¡æœ‰åˆå§‹å€¼çš„ç©ºæ•°ç»„ä¸Šè°ƒç”¨ reduce å°†æŠ¥é”™ã€‚</p>
</li>
<li><p><code>Array.prototype.filter()</code></p>
<p>åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼ŒåŒ…å«é€šè¿‡æä¾›çš„å‡½æ•°æµ‹è¯•çš„æ‰€æœ‰å…ƒç´ ã€‚</p>
<p>è¯­æ³•ï¼š</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> newArray <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token function">callback</span><span class="token punctuation">(</span>element<span class="token punctuation">[</span><span class="token punctuation">,</span> index<span class="token punctuation">[</span><span class="token punctuation">,</span> array<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">,</span> thisArg<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>å‚æ•°ï¼š</p>
<p><code>callback</code>ï¼šç”¨æ¥æµ‹è¯•æ•°ç»„çš„æ¯ä¸ªå…ƒç´ çš„å‡½æ•°ã€‚è¿”å› <code>true</code> è¡¨ç¤ºè¯¥å…ƒç´ é€šè¿‡æµ‹è¯•ï¼Œä¿ç•™è¯¥å…ƒç´ ï¼Œ<code>false</code> åˆ™ä¸ä¿ç•™ã€‚å®ƒæ¥å—ä»¥ä¸‹ä¸‰ä¸ªå‚æ•°ï¼š</p>
<ul>
<li><code>element</code>ï¼šæ•°ç»„ä¸­å½“å‰æ­£åœ¨å¤„ç†çš„å…ƒç´ ã€‚</li>
<li><code>index</code>å¯é€‰ï¼šæ­£åœ¨å¤„ç†çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ã€‚</li>
<li><code>array</code>å¯é€‰ï¼šè°ƒç”¨äº† <code>filter</code> çš„æ•°ç»„æœ¬èº«ã€‚</li>
</ul>
<p><code>thisArg</code>å¯é€‰ï¼šæ‰§è¡Œ <code>callback</code> æ—¶ï¼Œç”¨äº <code>this</code> çš„å€¼ã€‚</p>
</li>
<li><p><code>Array.prototype.sort()</code></p>
<p>å¯¹æ•°ç»„å…ƒç´ è¿›è¡Œ æ’åºï¼Œå¹¶è¿”å›æ•°ç»„ã€‚</p>
<p>è¯­æ³•ï¼š</p>
<pre class="language-js" data-language="js"><code class="language-js">arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">[</span>compareFunction<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>å‚æ•°ï¼š</p>
<p><code>compareFunction</code> å¯é€‰ï¼šç”¨æ¥æŒ‡å®šæŒ‰æŸç§é¡ºåºè¿›è¡Œæ’åˆ—çš„å‡½æ•°ã€‚å¦‚æœçœç•¥ï¼Œå…ƒç´ æŒ‰ç…§è½¬æ¢ä¸ºçš„å­—ç¬¦ä¸²çš„å„ä¸ªå­—ç¬¦çš„ Unicode ä½ç‚¹è¿›è¡Œæ’åºã€‚</p>
<ul>
<li><code>firstEl</code>ï¼šç¬¬ä¸€ä¸ªç”¨äºæ¯”è¾ƒçš„å…ƒç´ ã€‚</li>
<li><code>secondEl</code>ï¼šç¬¬äºŒä¸ªç”¨äºæ¯”è¾ƒçš„å…ƒç´ ã€‚</li>
</ul>
</li>
</ol>
</li>
</ol>
<h4 id="è€ƒç‚¹6ï¼šæ•°ç»„å¸¸ç”¨-API-å®ç°"><a href="#è€ƒç‚¹6ï¼šæ•°ç»„å¸¸ç”¨-API-å®ç°" class="headerlink" title="è€ƒç‚¹6ï¼šæ•°ç»„å¸¸ç”¨ API å®ç°"></a>è€ƒç‚¹6ï¼šæ•°ç»„å¸¸ç”¨ API å®ç°</h4><ol>
<li><p><strong>èƒ½ä¸èƒ½å®ç°æ•°ç»„ forEach æ–¹æ³•?</strong></p>
<p>éœ€è¦æ³¨æ„çš„å°±æ˜¯ä½¿ç”¨ in æ¥è¿›è¡ŒåŸå‹é“¾æŸ¥æ‰¾ã€‚åŒæ—¶ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°å°±ä¸å¤„ç†ï¼Œèƒ½æœ‰æ•ˆå¤„ç†ç¨€ç–æ•°ç»„çš„æƒ…å†µã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myforEach</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">callbackFn<span class="token punctuation">,</span> thisArg</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">//å¤„ç†æ•°ç»„ç±»å‹å¼‚å¸¸</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">"Cannot read property 'forEach' of null or undefined"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token comment">//å¤„ç†å›è°ƒç±»å‹å¼‚å¸¸</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>callbackFn<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token string">"[object Function]"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span>callbackFn <span class="token operator">+</span> <span class="token string">" is not a function"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token comment">//è‰æ¡ˆä¸­æåˆ°è¦å…ˆè½¬æ¢ä¸ºå¯¹è±¡</span>
  <span class="token keyword">let</span> <span class="token constant">O</span> <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//ä¿è¯lenä¸ºæ•°å­—ä¸”ä¸ºæ•´æ•°</span>
  <span class="token keyword">let</span> len <span class="token operator">=</span> <span class="token constant">O</span><span class="token punctuation">.</span>length <span class="token operator">>>></span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> <span class="token constant">O</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token function">callbackFn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>thisArg<span class="token punctuation">,</span> <span class="token constant">O</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token constant">O</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre></li>
<li><p><strong>èƒ½ä¸èƒ½å®ç°æ•°ç»„ map æ–¹æ³•ï¼Ÿ</strong></p>
<p>ä¸ forEach ç±»ä¼¼ï¼Œæ³¨æ„è¿”å›çš„æ•°ç»„ä¸åŸæ•°ç»„ç­‰é•¿çš„ç»†èŠ‚ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">map</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">callbackFn<span class="token punctuation">,</span> thisArg</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">//å¤„ç†æ•°ç»„ç±»å‹å¼‚å¸¸</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">"Cannot read property 'map' of null or undefined"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token comment">//å¤„ç†å›è°ƒç±»å‹å¼‚å¸¸</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>callbackFn<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token string">"[object Function]"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span>callbackFn <span class="token operator">+</span> <span class="token string">" is not a function"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token comment">//è‰æ¡ˆä¸­æåˆ°è¦å…ˆè½¬æ¢ä¸ºå¯¹è±¡</span>
  <span class="token keyword">let</span> <span class="token constant">O</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> <span class="token constant">T</span> <span class="token operator">=</span> thisArg<span class="token punctuation">;</span>
  <span class="token comment">//ä¿è¯lenä¸ºæ•°å­—ä¸”ä¸ºæ•´æ•°  </span>
  <span class="token keyword">let</span> len <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length <span class="token operator">>>></span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token keyword">in</span> <span class="token constant">O</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">let</span> kValue <span class="token operator">=</span> <span class="token constant">O</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token comment">//ä¾æ¬¡ä¼ å…¥thisï¼Œå½“å‰é¡¹ï¼Œå½“å‰ç´¢å¼•ï¼Œæ•´ä¸ªæ•°ç»„</span>
      <span class="token keyword">let</span> mapValue <span class="token operator">=</span> <span class="token function">callbackFn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">,</span> kValue<span class="token punctuation">,</span> k<span class="token punctuation">,</span> <span class="token constant">O</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token constant">A</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> mapValue<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> <span class="token constant">A</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre></li>
<li><p><strong>èƒ½ä¸èƒ½å®ç°æ•°ç»„ reduce æ–¹æ³•?</strong></p>
<p>æ³¨æ„ä¼ ä¸ä¼ åˆå§‹å€¼æ—¶çš„æƒ…å†µè¦åˆ†å¼€å¤„ç†ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">reduce</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">callbackFn<span class="token punctuation">,</span> initialValue</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">//å¤„ç†æ•°ç»„ç±»å‹å¼‚å¸¸</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">"Cannot read property 'reduce' of null or undefined"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token comment">//å¤„ç†å›è°ƒç±»å‹å¼‚å¸¸</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>callbackFn<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token string">"[object Function]"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span>callbackFn <span class="token operator">+</span> <span class="token string">" is not a function"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token comment">//è‰æ¡ˆä¸­æåˆ°è¦å…ˆè½¬æ¢ä¸ºå¯¹è±¡</span>
  <span class="token keyword">let</span> <span class="token constant">O</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> len <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">let</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> accumulator <span class="token operator">=</span> initialValue<span class="token punctuation">;</span>
  <span class="token comment">//ä¸ä¼ åˆå§‹å€¼ï¼Œé»˜è®¤æ‰¾æ•°ç»„ç¬¬ä¸€é¡¹</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>accumulator <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token keyword">in</span> <span class="token constant">O</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        accumulator <span class="token operator">=</span> <span class="token constant">O</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>
        k<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token comment">//è¡¨ç¤ºæ•°ç»„å…¨ä¸ºç©º</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token operator">===</span> len <span class="token operator">&amp;&amp;</span> accumulator <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"Each element of the array is empty"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token keyword">in</span> <span class="token constant">O</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">let</span> kValue <span class="token operator">=</span> <span class="token constant">O</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token comment">//ä¾æ¬¡ä¼ å…¥ ç´¯åŠ å™¨ï¼Œå½“å‰é¡¹ï¼Œå½“å‰ç´¢å¼•ï¼Œæ•´ä¸ªæ•°ç»„</span>
      accumulator <span class="token operator">=</span> <span class="token function">callbackFn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> accumulator<span class="token punctuation">,</span> kValue<span class="token punctuation">,</span> k<span class="token punctuation">,</span> <span class="token constant">O</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> accumulator<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre></li>
<li><p><strong>èƒ½ä¸èƒ½å®ç°æ•°ç»„ pushã€pop æ–¹æ³• ?</strong></p>
<p>push æ–¹æ³•ï¼š</p>
<p>æ³¨æ„å¤„ç†æ•°ç»„é•¿åº¦ç»†èŠ‚å³å¯ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">push</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>items</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> <span class="token constant">O</span> <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> len <span class="token operator">=</span> <span class="token constant">O</span><span class="token punctuation">.</span>length <span class="token operator">>>></span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> argCount <span class="token operator">=</span> items<span class="token punctuation">.</span>length <span class="token operator">>>></span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token comment">//å¤„ç†æ•°ç»„é•¿åº¦å¼‚å¸¸</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">+</span> argCount <span class="token operator">></span> <span class="token number">2</span> <span class="token operator">**</span> <span class="token number">53</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span>
      <span class="token string">"The number of array is over the max value restricted!"</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> argCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token constant">O</span><span class="token punctuation">[</span>len <span class="token operator">+</span> i<span class="token punctuation">]</span> <span class="token operator">=</span> items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">let</span> newLength <span class="token operator">=</span> len <span class="token operator">+</span> argCount<span class="token punctuation">;</span>
  <span class="token constant">O</span><span class="token punctuation">.</span>length <span class="token operator">=</span> newLength<span class="token punctuation">;</span>
  <span class="token keyword">return</span> newLength<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre>

<p>pop æ–¹æ³•ï¼š</p>
<p>æ³¨æ„åœ¨åˆ é™¤å‰å­˜å‚¨å€¼ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">pop</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> <span class="token constant">O</span> <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> len <span class="token operator">=</span> <span class="token constant">O</span><span class="token punctuation">.</span>length <span class="token operator">>>></span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token comment">//å¤„ç†æ•°ç»„é•¿åº¦å¼‚å¸¸</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token constant">O</span><span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  len<span class="token operator">--</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token constant">O</span><span class="token punctuation">[</span>len<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">delete</span> <span class="token constant">O</span><span class="token punctuation">[</span>len<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token constant">O</span><span class="token punctuation">.</span>length <span class="token operator">=</span> len<span class="token punctuation">;</span>
  <span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre></li>
<li><p><strong>èƒ½ä¸èƒ½å®ç°æ•°ç»„filteræ–¹æ³• ?</strong></p>
<p>ä¸ map ç±»ä¼¼ï¼Œæ³¨æ„è¿”å›å€¼æ˜¯é€šè¿‡æµ‹è¯•é¡¹ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">filter</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">callbackFn<span class="token punctuation">,</span> thisArg</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// å¤„ç†æ•°ç»„ç±»å‹å¼‚å¸¸</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token keyword">this</span> <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">"Cannot read property 'filter' of null or undefined"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token comment">// å¤„ç†å›è°ƒç±»å‹å¼‚å¸¸</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>callbackFn<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token string">"[object Function]"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span>callbackFn <span class="token operator">+</span> <span class="token string">" is not a function"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">let</span> <span class="token constant">O</span> <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> len <span class="token operator">=</span> <span class="token constant">O</span><span class="token punctuation">.</span>length <span class="token operator">>>></span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> resLen <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> <span class="token constant">O</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">let</span> element <span class="token operator">=</span> <span class="token constant">O</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token comment">//ä¾æ¬¡ä¼ å…¥ å½“å‰é¡¹ï¼Œå½“å‰ç´¢å¼•ï¼Œæ•´ä¸ªæ•°ç»„</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">callbackFn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>thisArg<span class="token punctuation">,</span> <span class="token constant">O</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token constant">O</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        res<span class="token punctuation">[</span>resLen<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> element<span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre></li>
<li><p><strong>èƒ½ä¸èƒ½å®ç°æ•°ç»„ slice æ–¹æ³•ï¼Ÿ</strong></p>
<p>éš¾ç‚¹åœ¨äºå¤„ç†å‚æ•°è¾¹ç•Œæƒ…å†µ(é number ç±»å‹å’Œå°æ•°ã€è´Ÿæ•°ã€è¶Šç•Œæƒ…å†µ)ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">slice</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">begin<span class="token punctuation">,</span> end</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// å¤„ç†æ•°ç»„ç±»å‹å¼‚å¸¸</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">"Cannot read property 'slice' of null or undefined"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> len <span class="token operator">=</span> array<span class="token punctuation">.</span>length <span class="token operator">>>></span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token comment">//å‚æ•°è¾¹ç•Œå¤„ç†</span>

  <span class="token comment">//çœç•¥startï¼Œé»˜è®¤ä» 0 å¼€å§‹</span>
  <span class="token keyword">let</span> start <span class="token operator">=</span> <span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span>begin<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token function">Number</span><span class="token punctuation">(</span>begin<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>start <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> start <span class="token operator">=</span> start <span class="token operator">></span> len <span class="token operator">?</span> len <span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>start <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token comment">//start + len > 0, start è¡¨ç¤ºå€’æ•°ç¬¬å‡ é¡¹ï¼Œå¦åˆ™ä¸º 0</span>
    start <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span> <span class="token operator">+</span> len <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span> <span class="token operator">+</span> len<span class="token punctuation">;</span>

  <span class="token comment">//çœç•¥ endï¼Œæå–åˆ°æ•°ç»„æœ«å°¾</span>
  <span class="token keyword">let</span> upTo <span class="token operator">=</span> <span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span>end<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> len <span class="token operator">:</span> <span class="token function">Number</span><span class="token punctuation">(</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>upTo <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> upTo <span class="token operator">=</span> upTo <span class="token operator">></span> len <span class="token operator">?</span> len <span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>upTo<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>upTo <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> upTo <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>upTo<span class="token punctuation">)</span> <span class="token operator">+</span> len <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>upTo<span class="token punctuation">)</span> <span class="token operator">+</span> len<span class="token punctuation">;</span>

  <span class="token keyword">let</span> size <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> upTo <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ä¸ä½¿ç”¨æ•°ç»„æ–¹æ³•ï¼Œå› ä¸º slice å¯è½¬æ¢ç±»æ•°ç»„å¯¹è±¡</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> start<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> start <span class="token operator">+</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> array<span class="token punctuation">)</span> res<span class="token punctuation">[</span>i <span class="token operator">-</span> start<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre></li>
<li><p><strong>èƒ½ä¸èƒ½å®ç°æ•°ç»„ splice æ–¹æ³•ï¼Ÿ</strong></p>
<p>æ³¨æ„é‡æ’åºåœ¨ä¸åŒæƒ…å†µæ—¶çš„éå†é¡ºåºã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">splice</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">start<span class="token punctuation">,</span> deleteCount<span class="token punctuation">,</span> <span class="token operator">...</span>items</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> len <span class="token operator">=</span> array<span class="token punctuation">.</span>length <span class="token operator">>>></span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token comment">//å‚æ•°è¾¹ç•Œå¤„ç†</span>

  <span class="token comment">//startIndexé»˜è®¤ä» 0 å¼€å§‹</span>
  start <span class="token operator">=</span> <span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token function">Number</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>start <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> start <span class="token operator">=</span> start <span class="token operator">></span> len <span class="token operator">?</span> len <span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>start <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token comment">//start + len > 0, start è¡¨ç¤ºå€’æ•°ç¬¬å‡ é¡¹ï¼Œå¦åˆ™ä¸º 0</span>
    start <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span> <span class="token operator">+</span> len <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span> <span class="token operator">+</span> len<span class="token punctuation">;</span>

  <span class="token comment">//çœç•¥ deleteCountï¼Œstartä¹‹åæ•°ç»„çš„æ‰€æœ‰å…ƒç´ éƒ½ä¼šè¢«åˆ é™¤ã€‚</span>
  deleteCount <span class="token operator">=</span> <span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span>deleteCount<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> len <span class="token operator">-</span> start <span class="token operator">:</span> <span class="token function">Number</span><span class="token punctuation">(</span>deleteCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>deleteCount <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>
    deleteCount <span class="token operator">=</span>
      deleteCount <span class="token operator">></span> len <span class="token operator">-</span> start <span class="token operator">?</span> len <span class="token operator">-</span> start <span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>deleteCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>deleteCount <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> deleteCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token comment">// åˆ¤æ–­ sealed å¯¹è±¡å’Œ frozen å¯¹è±¡, å³ å¯†å°å¯¹è±¡ å’Œ å†»ç»“å¯¹è±¡</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">isSealed</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> deleteCount <span class="token operator">!==</span> items<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">"the object is a sealed object!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">isFrozen</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>deleteCount <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">||</span> items<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">"the object is a frozen object!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token keyword">let</span> deleteArr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>deleteCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// æ‹·è´åˆ é™¤å…ƒç´ </span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> deleteCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> start <span class="token operator">+</span> i<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token keyword">in</span> array<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">let</span> current <span class="token operator">=</span> array<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
      deleteArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> current<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token comment">//é‡æ’åº</span>
  <span class="token keyword">const</span> <span class="token function-variable function">moveElements</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">start<span class="token punctuation">,</span> deleteCount<span class="token punctuation">,</span> <span class="token operator">...</span>items</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>deleteCount <span class="token operator">===</span> items<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// åˆ é™¤å¤§äºæ’å…¥,æ•´ä½“å‰ç§»</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>deleteCount <span class="token operator">></span> items<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> start <span class="token operator">+</span> deleteCount<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// ä»æœ€ååˆ é™¤çš„å…ƒç´ ä¸‹æ ‡å¼€å§‹</span>
        <span class="token keyword">let</span> <span class="token keyword">from</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
        <span class="token keyword">let</span> to <span class="token operator">=</span> i <span class="token operator">-</span> deleteCount <span class="token operator">+</span> items<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">from</span> <span class="token keyword">in</span> array<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
          array<span class="token punctuation">[</span>to<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span><span class="token keyword">from</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">delete</span> array<span class="token punctuation">[</span>to<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span>
        <span class="token keyword">let</span> i <span class="token operator">=</span> array<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        i <span class="token operator">>=</span> array<span class="token punctuation">.</span>length <span class="token operator">+</span> items<span class="token punctuation">.</span>length <span class="token operator">-</span> deleteCount<span class="token punctuation">;</span>
        i<span class="token operator">--</span>
      <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">delete</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// åˆ é™¤å°äºæ’å…¥ï¼Œæ•´ä½“åç§»</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>deleteCount <span class="token operator">&lt;</span> items<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> array<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">></span> start <span class="token operator">+</span> deleteCount<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> <span class="token keyword">from</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
        <span class="token keyword">let</span> to <span class="token operator">=</span> <span class="token keyword">from</span> <span class="token operator">-</span> deleteCount <span class="token operator">+</span> items<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">from</span> <span class="token keyword">in</span> array<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
          array<span class="token punctuation">[</span>to<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span><span class="token keyword">from</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">delete</span> array<span class="token punctuation">[</span>to<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token function">moveElements</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> deleteCount<span class="token punctuation">,</span> <span class="token operator">...</span>items<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// æ’å…¥æ–°å…ƒç´ </span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> items<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    array<span class="token punctuation">[</span>start <span class="token operator">+</span> i<span class="token punctuation">]</span> <span class="token operator">=</span> items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  array<span class="token punctuation">.</span>length <span class="token operator">=</span> array<span class="token punctuation">.</span>length <span class="token operator">-</span> deleteCount <span class="token operator">+</span> items<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">return</span> deleteArr<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre></li>
</ol>
<h3 id="èŠ‚æµé˜²æŠ–"><a href="#èŠ‚æµé˜²æŠ–" class="headerlink" title="èŠ‚æµé˜²æŠ–"></a>èŠ‚æµé˜²æŠ–</h3><h4 id="è€ƒç‚¹1ï¼šèŠ‚æµ"><a href="#è€ƒç‚¹1ï¼šèŠ‚æµ" class="headerlink" title="è€ƒç‚¹1ï¼šèŠ‚æµ"></a>è€ƒç‚¹1ï¼šèŠ‚æµ</h4><ol>
<li><p><strong>èƒ½ä¸èƒ½å®ç°ä¸€ä¸ªèŠ‚æµå™¨ï¼Ÿ</strong></p>
<p>ä¼ ç»Ÿå†™æ³•ï¼š</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">throttled</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> delay</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
      flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>ç®€æ´å†™æ³•ï¼š</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">throttled</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> delay</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> timer<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timer<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
                <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
                timer <span class="token operator">=</span> <span class="token keyword">null</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>åŠ å¼ºå†™æ³•ï¼š</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">throttled</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> delay</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> timer<span class="token punctuation">;</span>
  <span class="token keyword">let</span> startTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> curTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> remaining <span class="token operator">=</span> delay <span class="token operator">-</span> <span class="token punctuation">(</span>curTime <span class="token operator">-</span> startTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>remaining <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
      startTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
      timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">,</span> remaining<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
</ol>
<h4 id="è€ƒç‚¹2ï¼šé˜²æŠ–"><a href="#è€ƒç‚¹2ï¼šé˜²æŠ–" class="headerlink" title="è€ƒç‚¹2ï¼šé˜²æŠ–"></a>è€ƒç‚¹2ï¼šé˜²æŠ–</h4><ol>
<li><p><strong>èƒ½ä¸èƒ½å®ç°ä¸€ä¸‹é˜²æŠ–å™¨ï¼Ÿ</strong></p>
<p>ä¼ ç»Ÿé˜²æŠ–ï¼š</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> interval</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> timer<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>é¦–æ¬¡ç«‹åˆ»æ‰§è¡Œçš„é˜²æŠ–ï¼š</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> delay<span class="token punctuation">,</span> immediate</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> timeout<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>timeout<span class="token punctuation">)</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>immediate<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">let</span> callNow <span class="token operator">=</span> <span class="token operator">!</span>timeout<span class="token punctuation">;</span> <span class="token comment">// ç¬¬ä¸€æ¬¡ä¼šç«‹å³æ‰§è¡Œï¼Œä»¥ååªæœ‰äº‹ä»¶æ‰§è¡Œåæ‰ä¼šå†æ¬¡è§¦å‘</span>
      timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>callNow<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
      timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
</ol>
<h4 id="è€ƒç‚¹3ï¼šåˆå¹¶"><a href="#è€ƒç‚¹3ï¼šåˆå¹¶" class="headerlink" title="è€ƒç‚¹3ï¼šåˆå¹¶"></a>è€ƒç‚¹3ï¼šåˆå¹¶</h4><ol>
<li><p><strong>èƒ½ä¸èƒ½å®ç°åŒæ—¶é˜²æŠ–å’ŒèŠ‚æµï¼Ÿ</strong></p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> delay</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> last <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>now <span class="token operator">-</span> last <span class="token operator">&lt;</span> delay<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
      <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        last <span class="token operator">=</span> now<span class="token punctuation">;</span>
        <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// è¿™ä¸ªæ—¶å€™è¡¨ç¤ºæ—¶é—´åˆ°äº†ï¼Œå¿…é¡»ç»™å“åº”</span>
      last <span class="token operator">=</span> now<span class="token punctuation">;</span>
      <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
</ol>
<h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>JSè¿›é˜¶å†…å®¹è§ esnext ç¯‡ã€‚</p>
</div><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>sticla</li><li class="post-copyright-link"><strong>Post link: </strong><a href="https://blog.sticla.top/2021/08/12/front-end-interview-review-js/" title="å¤‡æˆ˜å‰ç«¯é¢è¯•--jsåŸºç¡€ç¯‡">https://blog.sticla.top/2021/08/12/front-end-interview-review-js/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> unless otherwise stated.</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2021/08/13/front-end-interview-review-js-web-api/" rel="prev" title="å¤‡æˆ˜å‰ç«¯é¢è¯•--js-web-apiç¯‡"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">å¤‡æˆ˜å‰ç«¯é¢è¯•--js-web-apiç¯‡</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2021/07/08/webpack-config-smart-reminder/" rel="next" title="åœ¨vscodeä¸­è®©Webpackçš„é…ç½®æ–‡ä»¶æ”¯æŒæ™ºèƒ½æç¤º"><span class="post-nav-text">åœ¨vscodeä¸­è®©Webpackçš„é…ç½®æ–‡ä»¶æ”¯æŒæ™ºèƒ½æç¤º</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>è‹¥æ‚¨æƒ³åŠæ—¶å¾—åˆ°å›å¤æé†’ï¼Œå»ºè®®è·³è½¬ GitHub Issues è¯„è®ºã€‚</span><br><a class="hty-button hty-button--raised" id="github-issues" target="_blank" rel="noopener" href="https://github.com/li-sticla/li-sticla.github.io/issues?q=is:issue+å¤‡æˆ˜å‰ç«¯é¢è¯•--jsåŸºç¡€ç¯‡">GitHub Issues</a></div><div id="valine-container"></div><script>Yun.utils.getScript("https://cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js", () => {
  const valineConfig = {"enable":true,"appId":"fhhkJbCVeplMMyPTL5CmiGOV-MdYXbMMI","appKey":"gXz6Ktd45hdMO77EYNY9cRds","placeholder":"æœ‰ä»»ä½•é—®é¢˜è¯·ç•™è¨€ï¼Œçœ‹åˆ°ä¼šå›å¤æ»´","avatar":null,"pageSize":10,"visitor":true,"highlight":true,"recordIP":false,"enableQQ":true,"avatar_cdn":"https://gravatar.loli.net/avatar/","meta":["nick","mail","link"],"el":"#valine-container","lang":"en"}
  valineConfig.path = "/2021/08/12/front-end-interview-review-js/"
  new Valine(valineConfig)
}, window.Valine);</script></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 â€“ 2023 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> sticla</span></div><div class="powered"><span>Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> v5.4.0</span><span class="footer-separator">|</span><span>Theme - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.5.2</span></div><div class="live_time"><span>æœ¬åšå®¢å·²èŒèŒå“’åœ°å­˜æ´»äº†</span><span id="display_live_time"></span><span class="moe-text">(â—'â—¡'â—)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2021-03-19T21:17:49');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " å¤© " + passHour + " å°æ—¶ " + passMinute + " åˆ† " + passSecond + " ç§’";
}
blog_live_time();
</script></div></footer><a class="hty-icon-button" id="goUp" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#6200ee" stroke-width="2" stroke-linecap="round"></circle></svg></a></div></body></html>