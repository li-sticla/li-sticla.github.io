<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#6200ee"><meta name="author" content="sticla"><meta name="copyright" content="sticla"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>å¤‡æˆ˜å‰ç«¯é¢è¯•--js-web-apiç¯‡ | sticla studio</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.24/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_ed8vp4atwoj.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: dark)"><link rel="shortcut icon" type="image/svg+xml" href="/favicon.ico"><link rel="mask-icon" href="/favicon.ico" color="#6200ee"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"blog.sticla.top","root":"/","title":"sticla studio","version":"1.5.2","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}.","hits":"${hits} results found","hits_time":"${hits} results found in ${time} ms"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-CCS65Z3P4C"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-CCS65Z3P4C');
}</script><meta name="description" content="å¤‡æˆ˜å‰ç«¯é¢è¯•â€”JS-Web-APIç¯‡AjaxXHR çš„æ¦‚å¿µè€ƒç‚¹1ï¼šXHR å¯¹è±¡ XHR æ˜¯ä»€ä¹ˆï¼Ÿ XHR(XMLHttpRequest)å³ XMLHttpRequest å¯¹è±¡ã€‚ XMLHttpRequest å¯¹è±¡æä¾›äº†å¯¹ HTTP åè®®çš„å®Œå…¨çš„è®¿é—®ï¼ŒåŒ…æ‹¬åšå‡º POST å’Œ HEAD è¯·æ±‚ä»¥åŠæ™®é€šçš„ GET è¯·æ±‚çš„èƒ½åŠ›ã€‚å®ƒå¯ä»¥æ“ä½œä»»ä½•æ•°æ®ï¼Œè€Œä¸ä»…ä»…æ˜¯ XML æ ¼å¼ã€‚XMLHttpRequest å¯ä»¥">
<meta property="og:type" content="article">
<meta property="og:title" content="å¤‡æˆ˜å‰ç«¯é¢è¯•--js-web-apiç¯‡">
<meta property="og:url" content="https://blog.sticla.top/2021/08/13/front-end-interview-review-js-web-api/index.html">
<meta property="og:site_name" content="sticla studio">
<meta property="og:description" content="å¤‡æˆ˜å‰ç«¯é¢è¯•â€”JS-Web-APIç¯‡AjaxXHR çš„æ¦‚å¿µè€ƒç‚¹1ï¼šXHR å¯¹è±¡ XHR æ˜¯ä»€ä¹ˆï¼Ÿ XHR(XMLHttpRequest)å³ XMLHttpRequest å¯¹è±¡ã€‚ XMLHttpRequest å¯¹è±¡æä¾›äº†å¯¹ HTTP åè®®çš„å®Œå…¨çš„è®¿é—®ï¼ŒåŒ…æ‹¬åšå‡º POST å’Œ HEAD è¯·æ±‚ä»¥åŠæ™®é€šçš„ GET è¯·æ±‚çš„èƒ½åŠ›ã€‚å®ƒå¯ä»¥æ“ä½œä»»ä½•æ•°æ®ï¼Œè€Œä¸ä»…ä»…æ˜¯ XML æ ¼å¼ã€‚XMLHttpRequest å¯ä»¥">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-08-13T12:06:25.000Z">
<meta property="article:modified_time" content="2023-02-02T06:23:29.266Z">
<meta property="article:author" content="sticla">
<meta property="article:tag" content="JavaScript">
<meta property="article:tag" content="interview">
<meta name="twitter:card" content="summary"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info mickey-mouse"><a class="site-author-avatar" href="/about/" title="sticla"><img width="96" loading="lazy" src="https://cdn.jsdelivr.net/gh/li-sticla/picBed@latest/EAXX2-BUwAA2FuM (2).jpg" alt="sticla"><span class="site-author-status" title="æˆ‘çˆ±æ‘¸é±¼">ğŸ˜­</span></a><div class="site-author-name"><a href="/about/">sticla</a></div><span class="site-name">sticla studio</span><sub class="site-subtitle">Change the worldï¼</sub><div class="site-desciption">åªæœ‰å¼±è€…æ‰ç¡è§‰ï¼</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">19</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">10</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">20</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="æ–‡æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/li-sticla" title="GitHub" target="_blank" style="color:#181717"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:yuanzichao@163.com" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=1619244804" title="ç½‘æ˜“äº‘éŸ³ä¹" target="_blank" style="color:#C10D0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/5050630" title="å“”å“©å“”å“©åŠ¨ç”»" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://twitter.com/sticla_yuuri" title="Twitter" target="_blank" style="color:#1da1f2"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-twitter-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://t.me/sticla" title="Telegram" target="_blank" style="color:#0088CC"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-telegram-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="æˆ‘çš„å°ä¼™ä¼´ä»¬" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%87%E6%88%98%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E2%80%94JS-Web-API%E7%AF%87"><span class="toc-number">1.</span> <span class="toc-text">å¤‡æˆ˜å‰ç«¯é¢è¯•â€”JS-Web-APIç¯‡</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Ajax"><span class="toc-number">1.1.</span> <span class="toc-text">Ajax</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#XHR-%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">1.1.1.</span> <span class="toc-text">XHR çš„æ¦‚å¿µ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B91%EF%BC%9AXHR-%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.1.1.1.</span> <span class="toc-text">è€ƒç‚¹1ï¼šXHR å¯¹è±¡</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AJAX-%E7%9A%84%E7%9B%B8%E5%85%B3%E5%BA%94%E7%94%A8"><span class="toc-number">1.1.2.</span> <span class="toc-text">AJAX çš„ç›¸å…³åº”ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B91%EF%BC%9A-jQuery-Ajax"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">è€ƒç‚¹1ï¼š jQuery Ajax</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B92%EF%BC%9AFetch-API"><span class="toc-number">1.1.2.2.</span> <span class="toc-text">è€ƒç‚¹2ï¼šFetch API</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B93%EF%BC%9AAxios"><span class="toc-number">1.1.2.3.</span> <span class="toc-text">è€ƒç‚¹3ï¼šAxios</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DOM"><span class="toc-number">1.2.</span> <span class="toc-text">DOM</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DOM-%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.1.</span> <span class="toc-text">DOM æ“ä½œ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B91%EF%BC%9ADOM-%E6%96%B9%E6%B3%95"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">è€ƒç‚¹1ï¼šDOM æ–¹æ³•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DOM-%E6%B8%B2%E6%9F%93"><span class="toc-number">1.2.2.</span> <span class="toc-text">DOM æ¸²æŸ“</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B91%EF%BC%9ADOM-%E6%B8%B2%E6%9F%93%E6%96%B9%E5%BC%8F"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">è€ƒç‚¹1ï¼šDOM æ¸²æŸ“æ–¹å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B92%EF%BC%9A%E9%A6%96%E5%B1%8F%E5%92%8C%E7%99%BD%E5%B1%8F"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">è€ƒç‚¹2ï¼šé¦–å±å’Œç™½å±</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DOM-%E4%BA%8B%E4%BB%B6"><span class="toc-number">1.2.3.</span> <span class="toc-text">DOM äº‹ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B91%EF%BC%9A%E4%BA%8B%E4%BB%B6%E4%B8%8E%E4%BA%8B%E4%BB%B6%E6%B5%81"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">è€ƒç‚¹1ï¼šäº‹ä»¶ä¸äº‹ä»¶æµ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B92%EF%BC%9A%E4%BA%8B%E4%BB%B6%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">è€ƒç‚¹2ï¼šäº‹ä»¶æ¨¡å‹</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BOM"><span class="toc-number">1.3.</span> <span class="toc-text">BOM</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#BOM-%E6%A6%82%E5%BF%B5"><span class="toc-number">1.3.1.</span> <span class="toc-text">BOM æ¦‚å¿µ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B91%EF%BC%9ABOM-%E4%B8%8E-DOM"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">è€ƒç‚¹1ï¼šBOM ä¸ DOM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B92%EF%BC%9A%E9%A1%B5%E9%9D%A2%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">è€ƒç‚¹2ï¼šé¡µé¢ç”Ÿå‘½å‘¨æœŸ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#BOM-%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.3.2.</span> <span class="toc-text">BOM å¯¹è±¡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B91%EF%BC%9AWindow-%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">è€ƒç‚¹1ï¼šWindow å¯¹è±¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B92%EF%BC%9ALocation-%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">è€ƒç‚¹2ï¼šLocation å¯¹è±¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%83%E7%82%B93%EF%BC%9AHistory-%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">è€ƒç‚¹3ï¼šHistory å¯¹è±¡</span></a></li></ol></li></ol></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://blog.sticla.top/2021/08/13/front-end-interview-review-js-web-api/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="sticla"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="sticla studio"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">å¤‡æˆ˜å‰ç«¯é¢è¯•--js-web-apiç¯‡</h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="Created: 2021-08-13 12:06:25" itemprop="dateCreated datePublished" datetime="2021-08-13T12:06:25+00:00">2021-08-13</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="Modified: 2023-02-02 06:23:29" itemprop="dateModified" datetime="2023-02-02T06:23:29+00:00">2023-02-02</time></div><span class="leancloud_visitors" id="/2021/08/13/front-end-interview-review-js-web-api/" data-flag-title="å¤‡æˆ˜å‰ç«¯é¢è¯•--js-web-apiç¯‡"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="Views"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg> <span class="leancloud-visitors-count"></span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category" href="/categories/%E5%AD%A6%E4%B9%A0-JavaScript/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">å­¦ä¹ -JavaScript</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag" href="/tags/JavaScript/" style="--text-color:#F4DF4F"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">JavaScript</span></a><a class="tag" href="/tags/interview/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">interview</span></a></span></div><div class="post-author"><div class="author-avatar"><img src="https://www.gravatar.com/avatar/429930d44169a040b9b3a3e187e2f63e?s=20&amp;d=https%3A%2F%2Fcdn.jsdelivr.net%2Fgh%2FYunYouJun%2Fcdn%2Fimg%2Favatar%2Fnone.jpg"></div><span class="author-name">sticla</span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#6200ee;"><h1 id="å¤‡æˆ˜å‰ç«¯é¢è¯•â€”JS-Web-APIç¯‡"><a href="#å¤‡æˆ˜å‰ç«¯é¢è¯•â€”JS-Web-APIç¯‡" class="headerlink" title="å¤‡æˆ˜å‰ç«¯é¢è¯•â€”JS-Web-APIç¯‡"></a>å¤‡æˆ˜å‰ç«¯é¢è¯•â€”JS-Web-APIç¯‡</h1><h2 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h2><h3 id="XHR-çš„æ¦‚å¿µ"><a href="#XHR-çš„æ¦‚å¿µ" class="headerlink" title="XHR çš„æ¦‚å¿µ"></a>XHR çš„æ¦‚å¿µ</h3><h4 id="è€ƒç‚¹1ï¼šXHR-å¯¹è±¡"><a href="#è€ƒç‚¹1ï¼šXHR-å¯¹è±¡" class="headerlink" title="è€ƒç‚¹1ï¼šXHR å¯¹è±¡"></a>è€ƒç‚¹1ï¼šXHR å¯¹è±¡</h4><ol>
<li><p><strong>XHR æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p><code>XHR(XMLHttpRequest)</code>å³ XMLHttpRequest å¯¹è±¡ã€‚</p>
<p>XMLHttpRequest å¯¹è±¡æä¾›äº†å¯¹ HTTP åè®®çš„å®Œå…¨çš„è®¿é—®ï¼ŒåŒ…æ‹¬åšå‡º POST å’Œ HEAD è¯·æ±‚ä»¥åŠæ™®é€šçš„ GET è¯·æ±‚çš„èƒ½åŠ›ã€‚å®ƒå¯ä»¥æ“ä½œä»»ä½•æ•°æ®ï¼Œè€Œä¸ä»…ä»…æ˜¯ XML æ ¼å¼ã€‚XMLHttpRequest å¯ä»¥åŒæ­¥æˆ–å¼‚æ­¥åœ°è¿”å› Web æœåŠ¡å™¨çš„å“åº”ï¼Œå¹¶ä¸”èƒ½å¤Ÿä»¥æ–‡æœ¬æˆ–è€…ä¸€ä¸ª DOM æ–‡æ¡£çš„å½¢å¼è¿”å›å†…å®¹ã€‚</p>
</li>
<li><p><strong>XHR æä¾›äº†å“ªäº›å¸¸ç”¨çš„æ–¹æ³•ï¼Ÿ</strong></p>
<p>XHR åˆ†ä¸ºåŒæ­¥å’Œå¼‚æ­¥æ¨¡å¼ã€‚</p>
<p><strong>å¼‚æ­¥æ¨¡å¼ï¼š</strong></p>
<pre class="language-js" data-language="js"><code class="language-js">xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>method<span class="token punctuation">,</span> <span class="token constant">URL</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>async<span class="token punctuation">,</span> user<span class="token punctuation">,</span> password<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>æ­¤æ–¹æ³•æŒ‡å®šäº†è¯·æ±‚çš„ä¸»è¦å‚æ•°ï¼š</p>
<ul>
<li>methodï¼šè¯·æ±‚çš„æ–¹æ³•ï¼Œé™å®šä¸º <code>GET</code>ã€<code>POST</code>ã€<code>HEAD</code> ä¹‹ä¸€ã€‚</li>
<li>URLï¼šè¦è¯·æ±‚çš„ urlã€‚é€šå¸¸æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ url å¯¹è±¡(å¦‚æœæœ‰æœç´¢å‚æ•°ï¼Œé¿å…è½¬ç é—®é¢˜)ã€‚</li>
<li>asyncï¼šå¦‚æœæ˜¾ç¤ºåœ°è®¾å®šä¸º falseï¼Œå°†é‡‡ç”¨åŒæ­¥æ¨¡å¼ã€‚</li>
<li>userï¼Œpasswordï¼šHTTP åŸºæœ¬èº«ä»½éªŒè¯ï¼ˆå¦‚æœéœ€è¦çš„è¯ï¼‰çš„ç™»å½•åå’Œå¯†ç ã€‚</li>
</ul>
<p>å‘é€è¯·æ±‚ï¼š</p>
<pre class="language-js" data-language="js"><code class="language-js">xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">[</span>body<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>bodyï¼šå¯é€‰å‚æ•°ï¼Œè¯·æ±‚ä½“ã€‚</p>
<p>ä¹‹åéœ€è¦ç›‘å¬ XHR äº‹ä»¶ï¼Œä»¥ä½œå‡ºå“åº”ï¼š</p>
<p>è¿™ä¸‰ä¸ªäº‹ä»¶æ˜¯æœ€å¸¸ç”¨çš„ï¼š</p>
<ul>
<li>loadï¼šå½“è¯·æ±‚å®Œæˆ(<code>200</code>ã€<code>500</code>)ï¼Œå¹¶ä¸”å“åº”å·²å®Œå…¨ä¸‹è½½ã€‚</li>
<li>errorï¼šå½“æ— æ³•å‘é€è¯·æ±‚ï¼Œå¦‚ç½‘ç»œä¸­æ–­ã€URL æ— æ•ˆã€‚</li>
<li>progressï¼šåœ¨ä¸‹è½½æœŸé—´å®šæœŸè§¦å‘ï¼ŒæŠ¥å‘Šå½“å‰è¿›åº¦ã€‚</li>
</ul>
<p>ä¸€æ—¦æœ‰äº†ç»“æœï¼Œå¯ä»¥ä» XHR çš„ä»¥ä¸‹å±æ€§ä¸­è·å¾—ç»“æœï¼š</p>
<ul>
<li>statusï¼šHTTP çŠ¶æ€ç ï¼ˆä¸€ä¸ªæ•°å­—ï¼‰ï¼š<code>200</code>ï¼Œ<code>404</code>ï¼Œ<code>403</code> ç­‰ï¼Œå¦‚æœå‡ºç°é HTTP é”™è¯¯ï¼Œåˆ™ä¸º <code>0</code>ã€‚</li>
<li>statusTextï¼šHTTP çŠ¶æ€æ¶ˆæ¯ï¼ˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼‰ï¼šçŠ¶æ€ç ä¸º <code>200</code> å¯¹åº”äº <code>OK</code>ï¼Œ<code>404</code> å¯¹åº”äº <code>Not Found</code>ï¼Œ<code>403</code> å¯¹åº”äº <code>Forbidden</code>ã€‚</li>
<li>responseï¼šæœåŠ¡å™¨çš„å“åº”ä½“ã€‚</li>
</ul>
<p>å¯ä»¥è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå¦‚æœç»™å®šæ—¶é—´å†…è¯·æ±‚æ²¡æœ‰æˆåŠŸæ‰§è¡Œï¼Œè¯·æ±‚å°±ä¼šå–æ¶ˆï¼ŒåŒæ—¶è§¦å‘ timeout äº‹ä»¶ï¼š</p>
<pre class="language-js" data-language="js"><code class="language-js">xhr<span class="token punctuation">.</span>timeout <span class="token operator">=</span> <span class="token number">10000</span><span class="token punctuation">;</span> <span class="token comment">// timeout å•ä½æ˜¯ msï¼Œæ­¤å¤„å³ 10 ç§’</span></code></pre>

<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>xhr.responseType</code> å±æ€§æ¥è®¾ç½®å“åº”æ ¼å¼ï¼š</p>
<ul>
<li><code>&quot;&quot;</code>ï¼ˆé»˜è®¤ï¼‰â€”â€” å“åº”æ ¼å¼ä¸ºå­—ç¬¦ä¸²ï¼Œ</li>
<li><code>&quot;text&quot;</code> â€”â€” å“åº”æ ¼å¼ä¸ºå­—ç¬¦ä¸²ï¼Œ</li>
<li><code>&quot;arraybuffer&quot;</code> â€”â€” å“åº”æ ¼å¼ä¸º <code>ArrayBuffer</code></li>
<li><code>&quot;blob&quot;</code> â€”â€” å“åº”æ ¼å¼ä¸º <code>Blob</code></li>
<li><code>&quot;document&quot;</code> â€”â€” å“åº”æ ¼å¼ä¸º XML documentï¼ˆå¯ä»¥ä½¿ç”¨ XPath å’Œå…¶ä»– XML æ–¹æ³•ï¼‰ï¼Œ</li>
<li><code>&quot;json&quot;</code> â€”â€” å“åº”æ ¼å¼ä¸º JSONï¼ˆè‡ªåŠ¨è§£æï¼‰ã€‚</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥éšæ—¶ç»ˆæ­¢è¯·æ±‚ã€‚è°ƒç”¨ <code>xhr.abort()</code> å³å¯ã€‚</p>
<hr>
<p><strong>åŒæ­¥è¯·æ±‚ï¼š</strong></p>
<p>å¦‚æœåœ¨ <code>open</code> æ–¹æ³•ä¸­å°†ç¬¬ä¸‰ä¸ªå‚æ•° <code>async</code> è®¾ç½®ä¸º <code>false</code>ï¼Œé‚£ä¹ˆè¯·æ±‚å°±ä¼šä»¥åŒæ­¥çš„æ–¹å¼è¿›è¡Œã€‚</p>
<p>JS è„šæœ¬å°†åœ¨ <code>send()</code> å¤„æš‚åœï¼Œå¹¶åœ¨æ”¶åˆ°å“åº”åæ¢å¤æ‰§è¡Œã€‚è¿™ä¼šé˜»å¡é¡µé¢åŠ è½½ã€‚åŸºäºè¿™äº›åŸå› ï¼ŒåŒæ­¥è¯·æ±‚ä½¿ç”¨çš„éå¸¸å°‘ï¼Œå‡ ä¹ä»ä¸ä½¿ç”¨ã€‚</p>
</li>
</ol>
<h3 id="AJAX-çš„ç›¸å…³åº”ç”¨"><a href="#AJAX-çš„ç›¸å…³åº”ç”¨" class="headerlink" title="AJAX çš„ç›¸å…³åº”ç”¨"></a>AJAX çš„ç›¸å…³åº”ç”¨</h3><h4 id="è€ƒç‚¹1ï¼š-jQuery-Ajax"><a href="#è€ƒç‚¹1ï¼š-jQuery-Ajax" class="headerlink" title="è€ƒç‚¹1ï¼š jQuery Ajax"></a>è€ƒç‚¹1ï¼š jQuery Ajax</h4><ol>
<li><p><strong>ä»€ä¹ˆæ˜¯ Ajaxï¼Ÿå¦‚ä½•ä½¿ç”¨ï¼Ÿ</strong></p>
<p><code>AJAX(Async Javascript and XML)</code></p>
<p>å³å¼‚æ­¥çš„<code>JavaScript</code> å’Œ<code>XML</code>ï¼Œæ˜¯ä¸€ç§åˆ›å»ºäº¤äº’å¼ç½‘é¡µåº”ç”¨çš„ç½‘é¡µå¼€å‘æŠ€æœ¯ï¼Œå¯ä»¥åœ¨ä¸é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œä¸æœåŠ¡å™¨äº¤æ¢æ•°æ®ï¼Œå¹¶ä¸”æ›´æ–°éƒ¨åˆ†ç½‘é¡µã€‚</p>
<p>jquery çš„ ajaxï¼š</p>
<pre class="language-js" data-language="js"><code class="language-js">$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
   type<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
   url<span class="token operator">:</span> url<span class="token punctuation">,</span>
   data<span class="token operator">:</span> data<span class="token punctuation">,</span>
   dataType<span class="token operator">:</span> dataType<span class="token punctuation">,</span>
   <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
   <span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p><strong>Ajax çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ</strong></p>
<p><strong>ajax åŸç†</strong>ç®€å•æ¥è¯´æ˜¯é€šè¿‡ XHR å¯¹è±¡å‘æœåŠ¡å™¨å‘é€å¼‚æ­¥è¯·æ±‚ï¼ŒåŒæ—¶åœ¨æ¥æ”¶åˆ°å“åº”åï¼Œä½¿ç”¨ JS æ“ä½œ DOM æ›´æ–°é¡µé¢ã€‚</p>
<p><strong>å®ç°è¿‡ç¨‹ï¼š</strong></p>
<ol>
<li><p>åˆ›å»ºæ ¸å¿ƒå¯¹è±¡ XHR</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></li>
<li><p>é€šè¿‡ XHR çš„ open æ–¹æ³•ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥</p>
<pre class="language-js" data-language="js"><code class="language-js">xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>method<span class="token punctuation">,</span> url<span class="token punctuation">,</span> <span class="token punctuation">[</span>async<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">,</span> user<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">,</span> password<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre></li>
<li><p>æ„å»ºè¯·æ±‚æ‰€éœ€çš„å†…å®¹ï¼Œé€šè¿‡ send æ–¹æ³•å°†è¯·æ±‚å‘é€ç»™æœåŠ¡å™¨</p>
<pre class="language-js" data-language="js"><code class="language-js">xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">[</span>body<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre></li>
<li><p>é€šè¿‡ XHR å¯¹è±¡çš„ onreadystatechange äº‹ä»¶ç›‘å¬æœåŠ¡ç«¯é€šä¿¡çŠ¶æ€</p>
<p>å…³äº<code>XMLHttpRequest.readyState</code>å±æ€§æœ‰äº”ä¸ªçŠ¶æ€ï¼š</p>
<p>0ï¼šUNSETï¼Œæœªæ‰“å¼€ï¼Œopen æ–¹æ³•è¿˜æœªè°ƒç”¨</p>
<p>1ï¼šOPENDï¼Œæœªå‘é€ï¼Œsend æ–¹æ³•è¿˜æœªè°ƒç”¨</p>
<p>2ï¼šHEADERS_RECEIVEDï¼Œå·²è·å–å“åº”å¤´ï¼ŒæœåŠ¡ç«¯å·²è¿”å›å“åº”å¤´å’Œå“åº”çŠ¶æ€</p>
<p>3ï¼šLOADINGï¼Œä¸‹è½½å“åº”ä½“ï¼Œå“åº”ä½“ä¸‹è½½ä¸­ï¼ŒresponseText å·²è·å–éƒ¨åˆ†å†…å®¹</p>
<p>4ï¼šDONEï¼Œè¯·æ±‚ç»“æŸï¼Œæ•´ä¸ªè¯·æ±‚è¿‡ç¨‹å®Œæ¯•</p>
</li>
<li><p>æ¥æ”¶å¹¶å¤„ç†æœåŠ¡ç«¯å“åº”çš„æ•°æ®ç»“æœ</p>
</li>
<li><p>å°†å¤„ç†ç»“æœæ›´æ–°åˆ° <code>HTML</code>é¡µé¢ä¸­</p>
</li>
</ol>
<p>å°è£…ä»¥åçš„ ajax ä»£ç ï¼š</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">ajax</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//åˆå§‹åŒ–é…ç½®</span>
  options <span class="token operator">=</span> options <span class="token operator">||</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  options<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>type <span class="token operator">||</span> <span class="token string">"GET"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  options<span class="token punctuation">.</span>dataType <span class="token operator">=</span> options<span class="token punctuation">.</span>dataType <span class="token operator">||</span> <span class="token string">"json"</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> params <span class="token operator">=</span> options<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
  <span class="token comment">//å‘é€è¯·æ±‚</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">"GET"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>url <span class="token operator">+</span> <span class="token string">"?"</span> <span class="token operator">+</span> params<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">"POST"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"POST"</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>url<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token comment">//æ¥æ”¶è¯·æ±‚</span>
  xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//è¯·æ±‚å®Œæˆ</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">let</span> status <span class="token operator">=</span> xhr<span class="token punctuation">.</span>status<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">>=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> status <span class="token operator">&lt;</span> <span class="token number">300</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        options<span class="token punctuation">.</span>success <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">,</span> xhr<span class="token punctuation">.</span>responseXML<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        options<span class="token punctuation">.</span>error <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  type<span class="token operator">:</span> <span class="token string">"POST"</span><span class="token punctuation">,</span>
  dataType<span class="token operator">:</span> <span class="token string">"json"</span><span class="token punctuation">,</span>
  data<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  url<span class="token operator">:</span> <span class="token string">"https://xxxxx"</span><span class="token punctuation">,</span>
  <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
</ol>
<h4 id="è€ƒç‚¹2ï¼šFetch-API"><a href="#è€ƒç‚¹2ï¼šFetch-API" class="headerlink" title="è€ƒç‚¹2ï¼šFetch API"></a>è€ƒç‚¹2ï¼šFetch API</h4><ol>
<li><p><strong>ä»€ä¹ˆæ˜¯ fetchï¼Ÿå¦‚ä½•ä½¿ç”¨ï¼Ÿ</strong></p>
<p>fetch æ˜¯è„±ç¦»äº† XHR çš„å…¨æ–° APIï¼Œæ˜¯ ajax çš„æ›¿ä»£æ–¹æ¡ˆã€‚è§£å†³äº† ajax åœ¨ä½¿ç”¨æ—¶å¿…é¡»å¼•å…¥ jQuery çš„ç¼ºé™·ï¼Œå¹¶ä¸”æ˜¯åŸºäº Promise çš„å®ç°ï¼Œç¬¦åˆå…³æ³¨åˆ†ç¦»ï¼Œæ²¡æœ‰å°†è¾“å…¥ã€è¾“å‡ºå’Œç”¨äº‹ä»¶æ¥è·Ÿè¸ªçš„çŠ¶æ€æ··æ‚åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œï¼Œæ›´åŠ äººæ€§åŒ–ï¼ŒåŒæ—¶å†™æ³•ç®€å•æ–¹ä¾¿ã€‚</p>
<p>ä¼˜åŠ¿ï¼š</p>
<ul>
<li>æ›´åŠ åº•å±‚ï¼Œæä¾›çš„APIä¸°å¯Œï¼ˆrequest, responseï¼‰</li>
<li>è„±ç¦»äº† XHRï¼Œæ˜¯ESè§„èŒƒé‡Œæ–°çš„å®ç°æ–¹å¼</li>
<li>æ”¯æŒ async/await ä»¥ä¹¦å†™åŒæ­¥ä»£ç çš„æ–¹å¼å®Œæˆå¼‚æ­¥æ“ä½œ</li>
</ul>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>æ˜¯ä¸€ä¸ªä½å±‚æ¬¡çš„ APIï¼Œä½¿ç”¨æ—¶ä»ç„¶éœ€è¦å°è£…ã€‚</li>
<li>é»˜è®¤ä¸å¸¦ cookieï¼Œéœ€è¦è¿›è¡Œè®¾ç½®ã€‚</li>
<li>åªæœ‰ç½‘ç»œé”™è¯¯èƒ½å¾—åˆ°å¤„ç†ï¼ŒæœåŠ¡å™¨è¿”å›é”™è¯¯ç æ—¶ä¸ä¼š rejectã€‚</li>
</ul>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// Example POST method implementation:</span>

<span class="token function">postData</span><span class="token punctuation">(</span><span class="token string">'http://example.com/answer'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>answer<span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// JSON from `response.json()` call</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">postData</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// Default options are marked with *</span>
  <span class="token keyword">return</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    body<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// must match 'Content-Type' header</span>
    cache<span class="token operator">:</span> <span class="token string">'no-cache'</span><span class="token punctuation">,</span> <span class="token comment">// *default, no-cache, reload, force-cache, only-if-cached</span>
    credentials<span class="token operator">:</span> <span class="token string">'same-origin'</span><span class="token punctuation">,</span> <span class="token comment">// include, same-origin, *omit</span>
    headers<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token string">'user-agent'</span><span class="token operator">:</span> <span class="token string">'Mozilla/4.0 MDN Example'</span><span class="token punctuation">,</span>
      <span class="token string">'content-type'</span><span class="token operator">:</span> <span class="token string">'application/json'</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span> <span class="token comment">// *GET, POST, PUT, DELETE, etc.</span>
    mode<span class="token operator">:</span> <span class="token string">'cors'</span><span class="token punctuation">,</span> <span class="token comment">// no-cors, cors, *same-origin</span>
    redirect<span class="token operator">:</span> <span class="token string">'follow'</span><span class="token punctuation">,</span> <span class="token comment">// manual, *follow, error</span>
    referrer<span class="token operator">:</span> <span class="token string">'no-referrer'</span><span class="token punctuation">,</span> <span class="token comment">// *client, no-referrer</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// parses response to JSON</span>
<span class="token punctuation">&#125;</span></code></pre></li>
</ol>
<h4 id="è€ƒç‚¹3ï¼šAxios"><a href="#è€ƒç‚¹3ï¼šAxios" class="headerlink" title="è€ƒç‚¹3ï¼šAxios"></a>è€ƒç‚¹3ï¼šAxios</h4><ol>
<li><p><strong>ä»€ä¹ˆæ˜¯ axiosï¼Ÿå¦‚ä½•ä½¿ç”¨ï¼Ÿ</strong></p>
<p>axios æ˜¯å¯¹åŸç”Ÿ XHR çš„å°è£…ï¼Œajax çš„å¦ä¸€ä¸ªæ›¿ä»£æ–¹æ¡ˆã€‚åŒæ—¶ä¹Ÿæ˜¯ Promise çš„å®ç°ç‰ˆæœ¬ï¼Œç¬¦åˆæœ€æ–° ES è§„èŒƒã€‚å¯ç”¨äº NodeJS å’Œæµè§ˆå™¨ã€‚</p>
<p>æœ‰ä»¥ä¸‹å‡ æ¡ç‰¹æ€§ï¼š</p>
<ul>
<li>åœ¨æµè§ˆå™¨ä¸­åˆ›å»º XMLHttpRequests</li>
</ul>
<ul>
<li>åœ¨ node.js ä¸­ç›´æ¥åˆ›å»º http è¯·æ±‚</li>
<li>æ”¯æŒ Promise API</li>
<li>æ”¯æŒæ‹¦æˆªè¯·æ±‚å’Œå“åº”</li>
<li>å®¢æˆ·ç«¯æ”¯æŒé˜²æ­¢CSRF(è®©ä½ çš„æ¯ä¸ªè¯·æ±‚éƒ½å¸¦ä¸€ä¸ªä» cookie ä¸­æ‹¿åˆ°çš„key)</li>
<li><strong>æä¾›äº†ä¸€äº›å¹¶å‘è¯·æ±‚çš„æ¥å£</strong></li>
</ul>
<p>ä½¿ç”¨ä¸Šä¹Ÿç®€åŒ–äº†ï¼Œæ›´åŠ çµæ´»ï¼š</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  url<span class="token operator">:</span> <span class="token string">'http://api.com'</span><span class="token punctuation">,</span>
  method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
  header<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token string">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'application/json'</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">22</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">axios</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
</ol>
<h2 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h2><h3 id="DOM-æ“ä½œ"><a href="#DOM-æ“ä½œ" class="headerlink" title="DOM æ“ä½œ"></a>DOM æ“ä½œ</h3><h4 id="è€ƒç‚¹1ï¼šDOM-æ–¹æ³•"><a href="#è€ƒç‚¹1ï¼šDOM-æ–¹æ³•" class="headerlink" title="è€ƒç‚¹1ï¼šDOM æ–¹æ³•"></a>è€ƒç‚¹1ï¼šDOM æ–¹æ³•</h4><ol>
<li><p><strong>å¸¸ç”¨çš„åŸç”Ÿ DOM æ“ä½œæ–¹æ³•æœ‰å“ªäº›ï¼Ÿ</strong></p>
<p><strong>åˆ›å»ºèŠ‚ç‚¹ï¼š</strong></p>
<ul>
<li><p><code>createElement</code>ï¼šåˆ›å»ºæ–°å…ƒç´ </p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> divEl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p><code>createTextNode</code>ï¼šåˆ›å»ºæ–‡æœ¬èŠ‚ç‚¹</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> textEl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">"content"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p><code>createDocumentFragment</code>ï¼šåˆ›å»ºæ–‡æ¡£ç¢ç‰‡ï¼Œæ˜¯æ›´è½»é‡çº§çš„æ–‡æ¡£</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> fragment <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p><code>createAttribute</code>ï¼šåˆ›å»ºå±æ€§èŠ‚ç‚¹ï¼Œå¯ä»¥æ˜¯è‡ªå®šä¹‰å±æ€§</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> dataAttribute <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createAttribute</span><span class="token punctuation">(</span><span class="token string">'custom'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
</ul>
<p><strong>æŸ¥è¯¢èŠ‚ç‚¹ï¼š</strong></p>
<ul>
<li><p><code>querySelector</code>ï¼šä¼ å…¥æœ‰æ•ˆçš„ css é€‰æ‹©å™¨ï¼Œå³å¯é€‰ä¸­é¦–ä¸ª DOM å…ƒç´ </p>
<pre class="language-js" data-language="js"><code class="language-js">document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.element'</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#element'</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'[name="username"]'</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'div + p > span'</span><span class="token punctuation">)</span></code></pre></li>
<li><p><code>querySelectorAll</code>ï¼šè¿”å›ä¸€ä¸ªåŒ…å«èŠ‚ç‚¹å­æ ‘å†…æ‰€æœ‰åŒ¹é…çš„å…ƒç´ èŠ‚ç‚¹åˆ—è¡¨ï¼Œæ²¡æœ‰åˆ™è¿”å›ç©ºåˆ—è¡¨ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> matches <span class="token operator">=</span> container<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"div.highlighted > p"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p><code>getElementsByç³»åˆ—</code>ï¼š</p>
<pre class="language-js" data-language="js"><code class="language-js">document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'idå±æ€§å€¼'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿”å›æ‹¥æœ‰æŒ‡å®šidçš„å¯¹è±¡çš„å¼•ç”¨</span>
document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'classå±æ€§å€¼'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿”å›æ‹¥æœ‰æŒ‡å®šclassçš„å¯¹è±¡é›†åˆ</span>
document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'æ ‡ç­¾å'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿”å›æ‹¥æœ‰æŒ‡å®šæ ‡ç­¾åçš„å¯¹è±¡é›†åˆ</span>
document<span class="token punctuation">.</span><span class="token function">getElementsByName</span><span class="token punctuation">(</span><span class="token string">'nameå±æ€§å€¼'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¿”å›æ‹¥æœ‰æŒ‡å®šåç§°çš„å¯¹è±¡ç»“åˆ</span></code></pre></li>
</ul>
<p><strong>æ›´æ–°èŠ‚ç‚¹ï¼š</strong></p>
<ul>
<li><p><code>innerHTML</code>ï¼šå¯ä¿®æ”¹èŠ‚ç‚¹å†…éƒ¨çš„å­æ ‘</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// è·å–&lt;p id="p">...&lt;/p ></span>
<span class="token keyword">var</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è®¾ç½®æ–‡æœ¬ä¸ºabc:</span>
p<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'ABC'</span><span class="token punctuation">;</span> <span class="token comment">// &lt;p id="p">ABC&lt;/p ></span>
<span class="token comment">// è®¾ç½®HTML:</span>
p<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'ABC &lt;span style="color:red">RED&lt;/span> XYZ'</span><span class="token punctuation">;</span>
<span class="token comment">// &lt;p>...&lt;/p >çš„å†…éƒ¨ç»“æ„å·²ä¿®æ”¹</span></code></pre></li>
<li><p><code>innerTextã€textContent</code>ï¼šè‡ªåŠ¨å¯¹æ–‡æœ¬è¿›è¡Œ HTML ç¼–ç </p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// è·å–&lt;p id="p-id">...&lt;/p ></span>
<span class="token keyword">var</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'p-id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è®¾ç½®æ–‡æœ¬:</span>
p<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">'&lt;script>alert("Hi")&lt;/script>'</span><span class="token punctuation">;</span>
<span class="token comment">// HTMLè¢«è‡ªåŠ¨ç¼–ç ï¼Œæ— æ³•è®¾ç½®&lt;script>èŠ‚ç‚¹:</span>
<span class="token comment">// &lt;p id="p-id">&amp;lt;script&amp;gt;alert("Hi")&amp;lt;/script&amp;gt;&lt;/p ></span></code></pre>

<p>ä¸¤è€…çš„åŒºåˆ«åœ¨äºè¯»å–å±æ€§æ—¶ï¼Œ<code>innerText</code>ä¸è¿”å›éšè—å…ƒç´ çš„æ–‡æœ¬ï¼Œè€Œ<code>textContent</code>è¿”å›æ‰€æœ‰æ–‡æœ¬</p>
</li>
<li><p><code> style</code>ï¼š<code>DOM</code>èŠ‚ç‚¹çš„<code>style</code>å±æ€§å¯¹åº”æ‰€æœ‰çš„<code>CSS</code>ï¼Œå¯ä»¥ç›´æ¥è·å–æˆ–è®¾ç½®ã€‚é‡åˆ°<code>-</code>éœ€è¦è½¬åŒ–ä¸ºé©¼å³°å‘½å</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// è·å–&lt;p id="p-id">...&lt;/p ></span>
<span class="token keyword">const</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'p-id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è®¾ç½®CSS:</span>
p<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'#ff0000'</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> <span class="token string">'20px'</span><span class="token punctuation">;</span> <span class="token comment">// é©¼å³°å‘½å</span>
p<span class="token punctuation">.</span>style<span class="token punctuation">.</span>paddingTop <span class="token operator">=</span> <span class="token string">'2em'</span><span class="token punctuation">;</span></code></pre></li>
</ul>
<p><strong>æ·»åŠ èŠ‚ç‚¹</strong>ï¼š</p>
<ul>
<li><p><code>innerHTML</code>ï¼šå¦‚æœæ˜¯ç©ºèŠ‚ç‚¹ï¼Œä¼šæ·»åŠ æ–°èŠ‚ç‚¹ã€‚å¦åˆ™ä¼šç›´æ¥æ›¿æ¢æ‰åŸæ¥çš„æ‰€æœ‰å­èŠ‚ç‚¹</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'&lt;span>child&lt;/span>'</span></code></pre></li>
<li><p><code>appendChild</code>ï¼šæŠŠä¸€ä¸ªå­èŠ‚ç‚¹æ·»åŠ åˆ°çˆ¶èŠ‚ç‚¹çš„æœ«å°¾ï¼Œå¦‚æœè¯¥èŠ‚ç‚¹å·²å­˜åœ¨ï¼Œä¼šå…ˆåˆ é™¤å†æ’å…¥</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> list <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'list'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token keyword">const</span> haskell <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
haskell<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'haskell'</span><span class="token punctuation">;</span>
haskell<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">'Haskell'</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>haskell<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p><code>insertBefore</code>ï¼šæŠŠå­èŠ‚ç‚¹æ’å…¥åˆ°çˆ¶èŠ‚ç‚¹ä¸­æŒ‡å®šçš„èŠ‚ç‚¹ä¹‹å‰</p>
<pre class="language-js" data-language="js"><code class="language-js">parentElement<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>newElement<span class="token punctuation">,</span> referenceElement<span class="token punctuation">)</span></code></pre></li>
<li><p><code> setAttribute</code>ï¼šåœ¨æŒ‡å®šå…ƒç´ ä¸­æ·»åŠ ä¸€ä¸ªå±æ€§èŠ‚ç‚¹ï¼Œå¦‚æœå…ƒç´ ä¸­å·²æœ‰è¯¥å±æ€§æ”¹å˜å±æ€§å€¼</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span>
div<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'class'</span><span class="token punctuation">,</span> <span class="token string">'white'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç¬¬ä¸€ä¸ªå‚æ•°å±æ€§åï¼Œç¬¬äºŒä¸ªå‚æ•°å±æ€§å€¼ã€‚</span></code></pre></li>
</ul>
<p><strong>åˆ é™¤èŠ‚ç‚¹ï¼š</strong></p>
<ul>
<li><p><code>removeChild</code>ï¼šé¦–å…ˆè¦è·å¾—è¯¥èŠ‚ç‚¹æœ¬èº«ä»¥åŠå®ƒçš„çˆ¶èŠ‚ç‚¹ï¼Œç„¶åï¼Œè°ƒç”¨çˆ¶èŠ‚ç‚¹çš„<code>removeChild</code>æŠŠå®ƒåˆ æ‰</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// æ‹¿åˆ°å¾…åˆ é™¤èŠ‚ç‚¹:</span>
<span class="token keyword">const</span> self <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'to-be-removed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// æ‹¿åˆ°çˆ¶èŠ‚ç‚¹:</span>
<span class="token keyword">const</span> parent <span class="token operator">=</span> self<span class="token punctuation">.</span>parentElement<span class="token punctuation">;</span>
<span class="token comment">// åˆ é™¤:</span>
<span class="token keyword">const</span> removed <span class="token operator">=</span> parent<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">;</span>
removed <span class="token operator">===</span> self<span class="token punctuation">;</span> <span class="token comment">// true</span></code></pre>

<p>åˆ é™¤åçš„èŠ‚ç‚¹è™½ç„¶ä¸åœ¨æ–‡æ¡£æ ‘ä¸­äº†ï¼Œä½†å…¶å®å®ƒè¿˜åœ¨å†…å­˜ä¸­ï¼Œå¯ä»¥éšæ—¶å†æ¬¡è¢«æ·»åŠ åˆ°åˆ«çš„ä½ç½®ã€‚</p>
</li>
</ul>
</li>
</ol>
<h3 id="DOM-æ¸²æŸ“"><a href="#DOM-æ¸²æŸ“" class="headerlink" title="DOM æ¸²æŸ“"></a>DOM æ¸²æŸ“</h3><h4 id="è€ƒç‚¹1ï¼šDOM-æ¸²æŸ“æ–¹å¼"><a href="#è€ƒç‚¹1ï¼šDOM-æ¸²æŸ“æ–¹å¼" class="headerlink" title="è€ƒç‚¹1ï¼šDOM æ¸²æŸ“æ–¹å¼"></a>è€ƒç‚¹1ï¼šDOM æ¸²æŸ“æ–¹å¼</h4><ol>
<li><p><strong>ä»€ä¹ˆæ˜¯ SPAï¼Ÿä¸ä¼ ç»Ÿ web å¼€å‘æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p>
<p><code>SPA(single page application)</code>å³å•é¡µé¢åº”ç”¨ã€‚æ˜¯ä¸€ç§å®¢æˆ·ç«¯æ¸²æŸ“æ–¹å¼ã€‚æœåŠ¡ç«¯è¿”å›å®¿ä¸» html æ¨¡æ¿ï¼Œå†ç”± JS æ“ä½œ DOM æ¸²æŸ“é¡µé¢ï¼Œè¯·æ±‚æ•°æ®ã€‚</p>
<p>ä¼ ç»Ÿ web å¼€å‘ï¼Œç½‘é¡µå†…å®¹åœ¨æœåŠ¡ç«¯æ¸²æŸ“å®Œæˆï¼Œâ¼€æ¬¡æ€§ä¼ è¾“åˆ°æµè§ˆå™¨ã€‚</p>
<p><code>SPA</code> åœ¨ç”¨æˆ·çš„è§’åº¦æä¾›äº†æ›´ä¼˜ç§€çš„äº¤äº’ä½“éªŒï¼Œä»å¼€å‘è€…çš„è§’åº¦ä¸Šä¹Ÿå‡å°‘äº†ä»£ç ç¼–å†™çš„å·¥ä½œé‡ï¼Œæé«˜äº†å·¥ä½œæ•ˆç‡ã€‚ç›®å‰ä¸»æµçš„ç½‘ç«™å¼€å‘æ–¹å¼å‡ä¸º <code>SPA</code>ã€‚</p>
</li>
<li><p><strong>ä»€ä¹ˆæ˜¯ SSRï¼ŸSSR è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</strong></p>
<p><code>SSR(server-side rendering)</code>å³æœåŠ¡ç«¯æ¸²æŸ“ï¼ŒæŒ‡ç”±æœåŠ¡ç«¯å®Œæˆ html ç»“æ„çš„æ‹¼æ¥ï¼Œå‘é€åˆ°æµè§ˆå™¨ï¼Œå†å°†å…¶æ¿€æ´»(ä¸ºå…¶ç»‘å®šçŠ¶æ€ä¸äº‹ä»¶)æˆä¸ºå¯äº¤äº’é¡µé¢çš„è¿‡ç¨‹ã€‚</p>
<p>ç”±åç«¯æ¸²æŸ“é¦–å± dom ç»“æ„åè¿”å›ï¼Œå‰ç«¯æ‹¿åˆ°é¦–å±ç»“æ„åŠ <code>SPA</code> ç»“æ„ï¼Œåº”ç”¨æ¿€æ´»åä»æŒ‰ <code>SPA</code> æ–¹å¼è¿è¡Œã€‚</p>
<p><code>SSR </code> åœ¨ <code>SPA</code> çš„åŸºç¡€ä¸Šè¿›è¡Œæ”¹è‰¯ï¼Œä¸»è¦è§£å†³äº†ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li><code>seo</code>ã€‚æœç´¢å¼•æ“ä¼˜å…ˆçˆ¬å–é¡µé¢ html ç»“æ„ï¼Œä½¿ç”¨ <code>SSR</code> æ—¶ï¼ŒæœåŠ¡ç«¯å·²ç»ç”Ÿæˆäº†ä¸šåŠ¡ç›¸å…³çš„ htmlï¼Œæœ‰åˆ©äº <code>seo</code>ã€‚</li>
<li>é¦–å±ç›´æ¥æ¸²æŸ“ã€‚ç”¨æˆ·æ— éœ€ç­‰å¾…æ‰€æœ‰ JS åŠ è½½ï¼Œç”±æœåŠ¡ç«¯è¿”å›é¦–å±é¡µé¢ã€‚</li>
</ul>
<p>åŒæ—¶ä¹Ÿå­˜åœ¨ç¼ºç‚¹ï¼š</p>
<ul>
<li>å¢åŠ é¡¹ç›®å¤æ‚åº¦</li>
<li>åº“çš„æ”¯æŒä¸å‹å¥½</li>
<li>ä»£ç å…¼å®¹é—®é¢˜</li>
<li>æœåŠ¡ç«¯è´Ÿè½½å˜å¤§</li>
</ul>
</li>
</ol>
<h4 id="è€ƒç‚¹2ï¼šé¦–å±å’Œç™½å±"><a href="#è€ƒç‚¹2ï¼šé¦–å±å’Œç™½å±" class="headerlink" title="è€ƒç‚¹2ï¼šé¦–å±å’Œç™½å±"></a>è€ƒç‚¹2ï¼šé¦–å±å’Œç™½å±</h4><ol>
<li><p><strong>é¦–å±å’Œç™½å±æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•è®¡ç®—ï¼Ÿ</strong></p>
<p><strong>ç™½å±æ—¶é—´ï¼š</strong></p>
<p>ä»è¾“å…¥ URL åˆ°æµè§ˆå™¨å¼€å§‹æ¸²æŸ“<code>&lt;body&gt;</code>æ ‡ç­¾æˆ–è€…è§£æå®Œ<code>&lt;head&gt;</code>æ ‡ç­¾(å¯¹åº”<code>DOMContentLoaded</code>ç»“æŸ)çš„è¿™æ®µæ—¶é—´å°±æ˜¯ç™½å±æ—¶é—´ã€‚</p>
<p>è®¡ç®—æ–¹å¼ï¼š<code>DOMContentLoadedEventEnd - fetchStart</code></p>
<p><strong>é¦–å±æ—¶é—´ï¼š</strong></p>
<p>ä»è¾“å…¥ URL åˆ°æµè§ˆå™¨ä¸­å½“å‰è§†å£çš„å†…å®¹æ¸²æŸ“å®Œæ¯•ï¼Œå‘ˆç°å‡ºå…·ä½“ç”»é¢çš„è¿™æ®µæ—¶é—´å°±æ˜¯é¦–å±æ—¶é—´ã€‚</p>
<p>è®¡ç®—æ–¹å¼ï¼šå‚è€ƒ<a target="_blank" rel="noopener" href="https://github.com/iyjhabc/first-meaningful-paint/blob/master/src/index.js">é˜¿é‡ŒARMS</a>ï¼Œä½¿ç”¨ARMSçš„è®¡ç®—æ–¹æ³•ï¼Œå°†å¯è§domå…ƒç´ æ•°é‡å¢é•¿æœ€å¿«çš„æ—¶é—´ç‚¹ä½œä¸ºé¦–å±æ—¶é—´ã€‚</p>
</li>
</ol>
<h3 id="DOM-äº‹ä»¶"><a href="#DOM-äº‹ä»¶" class="headerlink" title="DOM äº‹ä»¶"></a>DOM äº‹ä»¶</h3><h4 id="è€ƒç‚¹1ï¼šäº‹ä»¶ä¸äº‹ä»¶æµ"><a href="#è€ƒç‚¹1ï¼šäº‹ä»¶ä¸äº‹ä»¶æµ" class="headerlink" title="è€ƒç‚¹1ï¼šäº‹ä»¶ä¸äº‹ä»¶æµ"></a>è€ƒç‚¹1ï¼šäº‹ä»¶ä¸äº‹ä»¶æµ</h4><ol>
<li><p><strong>ä»€ä¹ˆæ˜¯äº‹ä»¶ï¼Ÿä»€ä¹ˆæ˜¯äº‹ä»¶æµï¼Ÿ</strong></p>
<p>JS å’Œ html ä¹‹é—´çš„äº¤äº’æ˜¯é€šè¿‡äº‹ä»¶å®ç°çš„ã€‚äº‹ä»¶å°±æ˜¯ç”¨æˆ·æˆ–æµè§ˆå™¨æ‰§è¡Œçš„æŸç§æ“ä½œï¼Œæ¯”å¦‚é¼ æ ‡ç‚¹å‡»ã€ç§»å…¥ç§»å‡ºã€‚</p>
<p>å½“äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œæµè§ˆå™¨ä¼šåˆ›å»ºä¸€ä¸ªäº‹ä»¶å¯¹è±¡ <code>event</code>ï¼Œå¹¶å°†è¯¦ç»†ä¿¡æ¯æ”¾å…¥å…¶ä¸­ï¼Œä½œä¸ºå‚æ•°ä¼ é€’ç»™äº‹ä»¶å¤„ç†ç¨‹åºã€‚</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Click me<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>elem<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  elem<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// æ˜¾ç¤ºäº‹ä»¶ç±»å‹ã€å…ƒç´ å’Œç‚¹å‡»çš„åæ ‡</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>type <span class="token operator">+</span> <span class="token string">" at "</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>currentTarget<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"Coordinates: "</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>clientX <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>clientY<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p>DOM ç»“æ„æ˜¯ä¸€ä¸ªä»¥ document ä¸ºæ ¹èŠ‚ç‚¹çš„å¤šå‰æ ‘ã€‚å½“ä¸€ä¸ª html å…ƒç´ äº§ç”Ÿäº‹ä»¶æ—¶ï¼Œè¯¥äº‹ä»¶ä¼šåœ¨è¯¥å…ƒç´ èŠ‚ç‚¹ä¸æ ¹èŠ‚ç‚¹ä¹‹é—´ä¼ æ’­ï¼Œåœ¨å…¶ç»è¿‡çš„è·¯å¾„ä¸Šæ‰€æœ‰èŠ‚ç‚¹éƒ½ä¼šæ¥æ”¶åˆ°è¯¥äº‹ä»¶ï¼Œè¿™ä¸ªä¼ æ’­è¿‡ç¨‹å°±æ˜¯ DOM äº‹ä»¶æµã€‚äº‹ä»¶æµæè¿°çš„æ˜¯ä»é¡µé¢ä¸­æ¥æ”¶äº‹ä»¶çš„é¡ºåºã€‚</p>
</li>
</ol>
<h4 id="è€ƒç‚¹2ï¼šäº‹ä»¶æ¨¡å‹"><a href="#è€ƒç‚¹2ï¼šäº‹ä»¶æ¨¡å‹" class="headerlink" title="è€ƒç‚¹2ï¼šäº‹ä»¶æ¨¡å‹"></a>è€ƒç‚¹2ï¼šäº‹ä»¶æ¨¡å‹</h4><ol>
<li><p><strong>äº‹ä»¶æ¨¡å‹æœ‰å“ªå‡ ç§ï¼Ÿ</strong></p>
<p>äº‹ä»¶æ¨¡å‹å¯ä»¥åˆ†ä¸ºä¸‰ç§ï¼š</p>
<ul>
<li>åŸå§‹äº‹ä»¶æ¨¡å‹ï¼ˆDOM0çº§ï¼‰</li>
<li>æ ‡å‡†äº‹ä»¶æ¨¡å‹ï¼ˆDOM2çº§ï¼‰</li>
<li>IEäº‹ä»¶æ¨¡å‹ï¼ˆåŸºæœ¬ä¸ç”¨ï¼‰</li>
</ul>
<hr>
<p><strong>åŸå§‹äº‹ä»¶æ¨¡å‹ï¼š</strong></p>
<p>äº‹ä»¶ç»‘å®šç›‘å¬å‡½æ•°æ¯”è¾ƒç®€å•ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>HTMLä»£ç ä¸­ç›´æ¥ç»‘å®š</li>
</ul>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"button"</span> onclick<span class="token operator">=</span><span class="token string">"fun()"</span><span class="token operator">></span></code></pre>

<ul>
<li>é€šè¿‡<code>JS</code>ä»£ç ç»‘å®š</li>
</ul>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'.btn'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span>onclick <span class="token operator">=</span> fun<span class="token punctuation">;</span></code></pre>

<p>ç‰¹æ€§ï¼š</p>
<ul>
<li>ç»‘å®šé€Ÿåº¦å¿«</li>
</ul>
<p><code>DOM0</code>çº§äº‹ä»¶å…·æœ‰å¾ˆå¥½çš„è·¨æµè§ˆå™¨ä¼˜åŠ¿ï¼Œä¼šä»¥æœ€å¿«çš„é€Ÿåº¦ç»‘å®šï¼Œä½†ç”±äºç»‘å®šé€Ÿåº¦å¤ªå¿«ï¼Œå¯èƒ½é¡µé¢è¿˜æœªå®Œå…¨åŠ è½½å‡ºæ¥ï¼Œä»¥è‡³äºäº‹ä»¶å¯èƒ½æ— æ³•æ­£å¸¸è¿è¡Œã€‚</p>
<ul>
<li>åªæ”¯æŒå†’æ³¡ï¼Œä¸æ”¯æŒæ•è·</li>
<li>åŒä¸€ä¸ªç±»å‹çš„äº‹ä»¶åªèƒ½ç»‘å®šä¸€æ¬¡</li>
</ul>
<hr>
<p><strong>æ ‡å‡†äº‹ä»¶æ¨¡å‹ï¼š</strong></p>
<p>ä¸€ä¸ªäº‹ä»¶åˆ†ä¸‰ä¸ªé˜¶æ®µï¼š</p>
<ul>
<li>äº‹ä»¶æ•è·é˜¶æ®µï¼šäº‹ä»¶ä»<code>document</code>ä¸€ç›´å‘ä¸‹ä¼ æ’­åˆ°ç›®æ ‡å…ƒç´ ï¼Œä¾æ¬¡æ£€æŸ¥ç»è¿‡çš„èŠ‚ç‚¹æ˜¯å¦ç»‘å®šäº†äº‹ä»¶ç›‘å¬å‡½æ•°ï¼Œå¦‚æœæœ‰åˆ™æ‰§è¡Œã€‚(å¾ˆå°‘è¢«ä½¿ç”¨)</li>
<li>äº‹ä»¶å¤„ç†é˜¶æ®µï¼šäº‹ä»¶åˆ°è¾¾ç›®æ ‡å…ƒç´ ï¼Œè§¦å‘ç›®æ ‡å…ƒç´ çš„ç›‘å¬å‡½æ•°ã€‚</li>
<li>äº‹ä»¶å†’æ³¡é˜¶æ®µï¼šäº‹ä»¶ä»ç›®æ ‡å…ƒç´ å†’æ³¡åˆ°<code>document</code>ï¼Œä¾æ¬¡æ£€æŸ¥ç»è¿‡çš„èŠ‚ç‚¹æ˜¯å¦ç»‘å®šäº†äº‹ä»¶ç›‘å¬å‡½æ•°ï¼Œå¦‚æœæœ‰åˆ™æ‰§è¡Œã€‚</li>
</ul>
<p><strong>äº‹ä»¶æ•è·ï¼š</strong></p>
<p>ä½¿ç”¨ <code>on&lt;event&gt;</code> å±æ€§æˆ–ä½¿ç”¨ HTML ç‰¹æ€§ï¼ˆattributeï¼‰æˆ–ä½¿ç”¨ä¸¤ä¸ªå‚æ•°çš„ <code>addEventListener(event, handler)</code> æ·»åŠ çš„å¤„ç†ç¨‹åºï¼Œå¯¹æ•è·ä¸€æ— æ‰€çŸ¥ï¼Œå®ƒä»¬ä»…åœ¨ç¬¬äºŒé˜¶æ®µå’Œç¬¬ä¸‰é˜¶æ®µè¿è¡Œã€‚</p>
<p>ä¸ºäº†åœ¨æ•è·é˜¶æ®µæ•è·äº‹ä»¶ï¼Œæˆ‘ä»¬éœ€è¦å°†å¤„ç†ç¨‹åºçš„ <code>capture</code> é€‰é¡¹è®¾ç½®ä¸º <code>true</code>ï¼š</p>
<pre class="language-js" data-language="js"><code class="language-js">elem<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>capture<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token comment">// æˆ–è€…ï¼Œç”¨ &#123;capture: true&#125; çš„åˆ«å "true"</span>
elem<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span></code></pre>

<p><code>capture</code> é€‰é¡¹æœ‰ä¸¤ä¸ªå¯èƒ½çš„å€¼ï¼š</p>
<ul>
<li>å¦‚æœä¸º <code>false</code>ï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œåˆ™åœ¨å†’æ³¡é˜¶æ®µè®¾ç½®å¤„ç†ç¨‹åºã€‚</li>
<li>å¦‚æœä¸º <code>true</code>ï¼Œåˆ™åœ¨æ•è·é˜¶æ®µè®¾ç½®å¤„ç†ç¨‹åºã€‚</li>
</ul>
<p><strong>äº‹ä»¶å¤„ç†ï¼š</strong></p>
<p>å¼•å‘äº‹ä»¶çš„é‚£ä¸ªåµŒå¥—å±‚çº§æœ€æ·±çš„å…ƒç´ è¢«ç§°ä¸ºç›®æ ‡å…ƒç´ ï¼Œå¯ä»¥é€šè¿‡ <code>event.target</code> è®¿é—®ã€‚</p>
<p><strong>äº‹ä»¶å†’æ³¡ï¼š</strong></p>
<p>å½“ä¸€ä¸ªäº‹ä»¶å‘ç”Ÿåœ¨ä¸€ä¸ªå…ƒç´ ä¸Šï¼Œå°†ä¼šä»ç›®æ ‡å…ƒç´ å†’æ³¡åˆ°<code>document</code>ã€‚å®ƒä¼šé¦–å…ˆè¿è¡Œåœ¨è¯¥å…ƒç´ ä¸Šçš„å¤„ç†ç¨‹åºï¼Œç„¶åè¿è¡Œå…¶çˆ¶å…ƒç´ ä¸Šçš„å¤„ç†ç¨‹åºï¼Œç„¶åä¸€ç›´å‘ä¸Šåˆ°å…¶ä»–ç¥–å…ˆä¸Šçš„å¤„ç†ç¨‹åºã€‚çˆ¶å…ƒç´ ä¸Šçš„å¤„ç†ç¨‹åºå§‹ç»ˆå¯ä»¥è·å–äº‹ä»¶å®é™…å‘ç”Ÿä½ç½®çš„è¯¦ç»†ä¿¡æ¯ã€‚</p>
<p>é€šå¸¸ï¼Œå®ƒä¼šä¸€ç›´ä¸Šå‡åˆ° <code>&lt;html&gt;</code>ï¼Œç„¶åå†åˆ° <code>document</code> å¯¹è±¡ï¼Œæœ‰äº›äº‹ä»¶ç”šè‡³ä¼šåˆ°è¾¾ <code>window</code>ï¼Œå®ƒä»¬ä¼šè°ƒç”¨è·¯å¾„ä¸Šæ‰€æœ‰çš„å¤„ç†ç¨‹åºã€‚</p>
<p>ä½†æ˜¯ä»»æ„å¤„ç†ç¨‹åºéƒ½å¯ä»¥å†³å®šäº‹ä»¶å·²ç»è¢«å®Œå…¨å¤„ç†ï¼Œå¹¶åœæ­¢å†’æ³¡ã€‚</p>
<p>ç”¨äºåœæ­¢å†’æ³¡çš„æ–¹æ³•æ˜¯ <code>event.stopPropagation()</code>ã€‚</p>
<blockquote>
<p>å¦‚æœä¸€ä¸ªå…ƒç´ åœ¨ä¸€ä¸ªäº‹ä»¶ä¸Šæœ‰å¤šä¸ªå¤„ç†ç¨‹åºï¼Œå³ä½¿å…¶ä¸­ä¸€ä¸ªåœæ­¢å†’æ³¡ï¼Œå…¶ä»–å¤„ç†ç¨‹åºä»ä¼šæ‰§è¡Œã€‚</p>
<p>æœ‰ä¸€ä¸ª <code>event.stopImmediatePropagation()</code> æ–¹æ³•ï¼Œå¯ä»¥ç”¨äºåœæ­¢å†’æ³¡ï¼Œå¹¶é˜»æ­¢å½“å‰å…ƒç´ ä¸Šçš„å¤„ç†ç¨‹åºè¿è¡Œã€‚ä½¿ç”¨è¯¥æ–¹æ³•ä¹‹åï¼Œå…¶ä»–å¤„ç†ç¨‹åºå°±ä¸ä¼šè¢«æ‰§è¡Œã€‚</p>
</blockquote>
<hr>
<p><strong>IEäº‹ä»¶æ¨¡å‹ï¼š</strong></p>
<p>å…±æœ‰ä¸¤ä¸ªè¿‡ç¨‹:</p>
<ul>
<li>äº‹ä»¶å¤„ç†é˜¶æ®µï¼šäº‹ä»¶åˆ°è¾¾ç›®æ ‡å…ƒç´ , è§¦å‘ç›®æ ‡å…ƒç´ çš„ç›‘å¬å‡½æ•°ã€‚</li>
<li>äº‹ä»¶å†’æ³¡é˜¶æ®µï¼šäº‹ä»¶ä»ç›®æ ‡å…ƒç´ å†’æ³¡åˆ°<code>document</code>, ä¾æ¬¡æ£€æŸ¥ç»è¿‡çš„èŠ‚ç‚¹æ˜¯å¦ç»‘å®šäº†äº‹ä»¶ç›‘å¬å‡½æ•°ï¼Œå¦‚æœæœ‰åˆ™æ‰§è¡Œ</li>
</ul>
</li>
<li><p><strong>è§£é‡Šä¸‹ä»€ä¹ˆæ˜¯äº‹ä»¶å§”æ‰˜ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</strong></p>
<p>äº‹ä»¶å§”æ‰˜ï¼Œé€šä¿—åœ°æ¥è®²ï¼Œå°±æ˜¯æŠŠä¸€ä¸ªå…ƒç´ å“åº”äº‹ä»¶ï¼ˆclickã€keydownâ€¦â€¦ï¼‰çš„å¤„ç†å§”æ‰˜ç»™å¦ä¸€ä¸ªå…ƒç´ ã€‚</p>
<p>äº‹ä»¶å§”æ‰˜ï¼Œä¼šæŠŠä¸€ä¸ªæˆ–è€…ä¸€ç»„å…ƒç´ çš„äº‹ä»¶å§”æ‰˜åˆ°å®ƒçš„çˆ¶å±‚æˆ–è€…æ›´å¤–å±‚å…ƒç´ ä¸Šï¼ŒçœŸæ­£ç»‘å®šäº‹ä»¶çš„æ˜¯å¤–å±‚å…ƒç´ ï¼Œè€Œä¸æ˜¯ç›®æ ‡å…ƒç´ ã€‚å½“äº‹ä»¶å“åº”åˆ°ç›®æ ‡å…ƒç´ ä¸Šæ—¶ï¼Œä¼šé€šè¿‡äº‹ä»¶å†’æ³¡æœºåˆ¶ä»è€Œè§¦å‘å®ƒçš„å¤–å±‚å…ƒç´ çš„ç»‘å®šäº‹ä»¶ï¼Œç„¶ååœ¨å¤–å±‚å…ƒç´ ä¸Šå»æ‰§è¡Œå‡½æ•°ã€‚çˆ¶å…ƒç´ å¯ä»¥é€šè¿‡ <code>event.target</code> è®¿é—®ç›®æ ‡å…ƒç´ ã€‚</p>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>ç®€åŒ–åˆå§‹åŒ–å¹¶èŠ‚çœå†…å­˜ï¼šæ— éœ€æ·»åŠ è®¸å¤šå¤„ç†ç¨‹åºã€‚</li>
<li>æ›´å°‘çš„ä»£ç ï¼šæ·»åŠ æˆ–ç§»é™¤å…ƒç´ æ—¶ï¼Œæ— éœ€æ·»åŠ /ç§»é™¤å¤„ç†ç¨‹åºã€‚</li>
<li>DOM ä¿®æ”¹ ï¼šæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ innerHTML ç­‰ï¼Œæ¥æ‰¹é‡æ·»åŠ /ç§»é™¤å…ƒç´ ã€‚</li>
</ul>
<p>å±€é™æ€§ï¼š</p>
<ul>
<li>é¦–å…ˆï¼Œäº‹ä»¶å¿…é¡»å†’æ³¡ã€‚è€Œæœ‰äº›äº‹ä»¶ä¸ä¼šå†’æ³¡(<code>focus</code>ã€<code>blur</code>)ã€‚æ­¤å¤–ï¼Œä½çº§åˆ«çš„å¤„ç†ç¨‹åºä¸åº”è¯¥ä½¿ç”¨ <code>event.stopPropagation()</code>ã€‚</li>
<li>å…¶æ¬¡ï¼Œå§”æ‰˜å¯èƒ½ä¼šå¢åŠ  CPU è´Ÿè½½ï¼Œå› ä¸ºå®¹å™¨çº§åˆ«çš„å¤„ç†ç¨‹åºä¼šå¯¹å®¹å™¨ä¸­ä»»æ„ä½ç½®çš„äº‹ä»¶åšå‡ºååº”ï¼Œè€Œä¸ç®¡æˆ‘ä»¬æ˜¯å¦å¯¹è¯¥äº‹ä»¶æ„Ÿå…´è¶£ã€‚<code>mousemove</code>ã€<code>mouseout</code> è¿™æ ·çš„äº‹ä»¶ï¼Œè™½ç„¶æœ‰äº‹ä»¶å†’æ³¡ï¼Œä½†æ˜¯åªèƒ½ä¸æ–­é€šè¿‡ä½ç½®å»è®¡ç®—å®šä½ï¼Œå¯¹æ€§èƒ½æ¶ˆè€—é«˜ï¼Œå› æ­¤ä¹Ÿæ˜¯ä¸é€‚åˆäºäº‹ä»¶å§”æ‰˜çš„ã€‚</li>
</ul>
<hr>
<p><strong>åº”ç”¨åœºæ™¯ï¼š</strong></p>
<p>å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªåˆ—è¡¨ï¼Œåˆ—è¡¨ä¹‹ä¸­æœ‰å¤§é‡çš„åˆ—è¡¨é¡¹ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç‚¹å‡»åˆ—è¡¨é¡¹çš„æ—¶å€™å“åº”ä¸€ä¸ªäº‹ä»¶ï¼Œå¦‚æœç»™æ¯ä¸ªåˆ—è¡¨é¡¹ä¸€ä¸€éƒ½ç»‘å®šä¸€ä¸ªå‡½æ•°ï¼Œé‚£å¯¹äºå†…å­˜æ¶ˆè€—æ˜¯éå¸¸å¤§çš„ã€‚è¿™æ—¶å€™å°±å¯ä»¥äº‹ä»¶å§”æ‰˜ï¼ŒæŠŠç‚¹å‡»äº‹ä»¶ç»‘å®šåœ¨çˆ¶çº§å…ƒç´ <code>ul</code>ä¸Šé¢ï¼Œç„¶åæ‰§è¡Œäº‹ä»¶çš„æ—¶å€™å†å»åŒ¹é…ç›®æ ‡å…ƒç´ ã€‚</p>
<p>è¿˜æœ‰ä¸€ç§åœºæ™¯æ˜¯ä¸Šè¿°åˆ—è¡¨é¡¹å¹¶ä¸å¤šï¼Œæˆ‘ä»¬ç»™æ¯ä¸ªåˆ—è¡¨é¡¹éƒ½ç»‘å®šäº†äº‹ä»¶ï¼Œä½†æ˜¯å¦‚æœç”¨æˆ·èƒ½å¤Ÿéšæ—¶åŠ¨æ€çš„å¢åŠ æˆ–è€…å»é™¤åˆ—è¡¨é¡¹å…ƒç´ ï¼Œé‚£ä¹ˆåœ¨æ¯ä¸€æ¬¡æ”¹å˜çš„æ—¶å€™éƒ½éœ€è¦é‡æ–°ç»™æ–°å¢çš„å…ƒç´ ç»‘å®šäº‹ä»¶ï¼Œç»™å³å°†åˆ å»çš„å…ƒç´ è§£ç»‘äº‹ä»¶ï¼Œå¦‚æœç”¨äº†äº‹ä»¶å§”æ‰˜å°±æ²¡æœ‰è¿™ç§éº»çƒ¦äº†ï¼Œå› ä¸ºäº‹ä»¶æ˜¯ç»‘å®šåœ¨çˆ¶å±‚çš„ï¼Œå’Œç›®æ ‡å…ƒç´ çš„å¢å‡æ˜¯æ²¡æœ‰å…³ç³»çš„ï¼Œæ‰§è¡Œåˆ°ç›®æ ‡å…ƒç´ æ˜¯åœ¨çœŸæ­£å“åº”æ‰§è¡Œäº‹ä»¶å‡½æ•°çš„è¿‡ç¨‹ä¸­å»åŒ¹é…çš„ã€‚</p>
</li>
</ol>
<h2 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h2><h3 id="BOM-æ¦‚å¿µ"><a href="#BOM-æ¦‚å¿µ" class="headerlink" title="BOM æ¦‚å¿µ"></a>BOM æ¦‚å¿µ</h3><h4 id="è€ƒç‚¹1ï¼šBOM-ä¸-DOM"><a href="#è€ƒç‚¹1ï¼šBOM-ä¸-DOM" class="headerlink" title="è€ƒç‚¹1ï¼šBOM ä¸ DOM"></a>è€ƒç‚¹1ï¼šBOM ä¸ DOM</h4><ol>
<li><p><strong>è¯´è¯´ä½ å¯¹ BOM çš„ç†è§£ï¼Ÿ</strong></p>
<p><code>BOM(Browser Object Model)</code>ï¼Œæµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼Œæä¾›äº†ç‹¬ç«‹äºå†…å®¹ä¸æµè§ˆå™¨çª—å£è¿›è¡Œäº¤äº’çš„å¯¹è±¡ã€‚</p>
<p>å…¶ä½œç”¨å°±æ˜¯å’Œæµè§ˆå™¨è¿›è¡Œä¸€äº›äº¤äº’æ“ä½œã€‚å¦‚å‰è¿›åé€€ã€æ»šåŠ¨æ¡ä¸Šä¸‹æ»šåŠ¨ã€åˆ·æ–°ã€æµè§ˆå™¨çª—å£å˜åŒ–ï¼Œä»¥åŠè·å–å®¢æˆ·çš„ä¸€äº›ä¿¡æ¯å¦‚ï¼šæµè§ˆå™¨ç‰ˆæœ¬ï¼Œå±å¹•åˆ†è¾¨ç‡ã€‚</p>
<p>æµè§ˆå™¨çš„å…¨éƒ¨å†…å®¹å¯ä»¥çœ‹æˆ<code>DOM</code>ï¼Œè€Œæ•´ä¸ªæµè§ˆå™¨å¯ä»¥çœ‹æˆ<code>BOM</code>ã€‚<code>DOM</code> çš„é¡¶çº§å¯¹è±¡æ˜¯ <code>document</code>ï¼Œè€Œ<code>BOM</code> çš„é¡¶çº§å¯¹è±¡æ˜¯ <code>window</code>ã€‚</p>
</li>
</ol>
<h4 id="è€ƒç‚¹2ï¼šé¡µé¢ç”Ÿå‘½å‘¨æœŸ"><a href="#è€ƒç‚¹2ï¼šé¡µé¢ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="è€ƒç‚¹2ï¼šé¡µé¢ç”Ÿå‘½å‘¨æœŸ"></a>è€ƒç‚¹2ï¼šé¡µé¢ç”Ÿå‘½å‘¨æœŸ</h4><ol>
<li><p><strong>è¯´è¯´ HTML é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸï¼Ÿ</strong></p>
<p>HTML é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸåŒ…å«ä¸‰ä¸ªé‡è¦äº‹ä»¶ï¼š</p>
<ul>
<li><code>DOMContentLoaded</code> â€”â€” æµè§ˆå™¨å·²å®Œå…¨åŠ è½½ HTMLï¼Œå¹¶æ„å»ºäº† DOM æ ‘ï¼Œä½†åƒ <code>&lt;img&gt;</code> å’Œæ ·å¼è¡¨ä¹‹ç±»çš„å¤–éƒ¨èµ„æºå¯èƒ½å°šæœªåŠ è½½å®Œæˆã€‚</li>
<li><code>load</code> â€”â€” æµè§ˆå™¨ä¸ä»…åŠ è½½å®Œæˆäº† HTMLï¼Œè¿˜åŠ è½½å®Œæˆäº†æ‰€æœ‰å¤–éƒ¨èµ„æºï¼šå›¾ç‰‡ï¼Œæ ·å¼ç­‰ã€‚</li>
<li><code>beforeunload/unload</code> â€”â€” å½“ç”¨æˆ·æ­£åœ¨ç¦»å¼€é¡µé¢æ—¶ã€‚</li>
</ul>
<hr>
<p><code>DOMContentLoaded</code> äº‹ä»¶ï¼š</p>
<p><strong>è§¦å‘æ—¶æœºï¼š</strong></p>
<p>å‘ç”Ÿåœ¨ <code>document</code> å¯¹è±¡ä¸Šã€‚åœ¨ DOM æ ‘æ„å»ºå®Œæ¯•åï¼Œå°±ä¼šè§¦å‘æ­¤äº‹ä»¶ï¼Œæ­¤æ—¶é¡µé¢åªåŒ…å«åŸºæœ¬çš„ DOM ç»“æ„ã€‚</p>
<p>å½“æµè§ˆå™¨å¤„ç†ä¸€ä¸ª HTML æ–‡æ¡£ï¼Œå¹¶åœ¨æ–‡æ¡£ä¸­é‡åˆ° <code>&lt;script&gt;</code> æ ‡ç­¾æ—¶ï¼Œå°±ä¼šåœ¨ç»§ç»­æ„å»º DOM ä¹‹å‰è¿è¡Œå®ƒã€‚è¿™æ˜¯ä¸€ç§é˜²èŒƒæªæ–½ï¼Œå› ä¸ºè„šæœ¬å¯èƒ½æƒ³è¦ä¿®æ”¹ DOMï¼Œç”šè‡³å¯¹å…¶æ‰§è¡Œ <code>document.write</code> æ“ä½œï¼Œæ‰€ä»¥ <code>DOMContentLoaded</code> å¿…é¡»ç­‰å¾…è„šæœ¬æ‰§è¡Œç»“æŸã€‚å¤–éƒ¨æ ·å¼è¡¨ä¸ä¼šå½±å“ DOMï¼Œå› æ­¤ <code>DOMContentLoaded</code> ä¸ä¼šç­‰å¾…å®ƒä»¬ã€‚</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">function</span> <span class="token function">ready</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'DOM is ready'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å›¾ç‰‡ç›®å‰å°šæœªåŠ è½½å®Œæˆï¼ˆé™¤éå·²ç»è¢«ç¼“å­˜ï¼‰ï¼Œæ‰€ä»¥å›¾ç‰‡çš„å¤§å°ä¸º 0x0</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Image size: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>img<span class="token punctuation">.</span>offsetWidth<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">x</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>img<span class="token punctuation">.</span>offsetHeight<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"DOMContentLoaded"</span><span class="token punctuation">,</span> ready<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>img<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://en.js.cx/clipart/train.gif?speed=1&amp;cache=0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>

<p>ä½†å¦‚æœåœ¨æ ·å¼åé¢æœ‰ä¸€ä¸ªè„šæœ¬ï¼Œé‚£ä¹ˆè¯¥è„šæœ¬å¿…é¡»ç­‰å¾…æ ·å¼è¡¨åŠ è½½å®Œæˆï¼š</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>style.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// åœ¨æ ·å¼è¡¨åŠ è½½å®Œæˆä¹‹å‰ï¼Œè„šæœ¬éƒ½ä¸ä¼šæ‰§è¡Œ</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">.</span>marginTop<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p>å½“ <code>DOMContentLoaded</code> ç­‰å¾…è„šæœ¬æ—¶ï¼Œå®ƒç°åœ¨ä¹Ÿåœ¨ç­‰å¾…è„šæœ¬å‰é¢çš„æ ·å¼ã€‚</p>
<p><strong>å¸¸è§çš„åº”ç”¨åœºæ™¯ï¼š</strong></p>
<p>Firefoxï¼ŒChrome å’Œ Opera éƒ½ä¼šåœ¨ <code>DOMContentLoaded</code> ä¸­è‡ªåŠ¨å¡«å……è¡¨å•ã€‚</p>
<hr>
<p><code>load</code>äº‹ä»¶ï¼š</p>
<p><strong>è§¦å‘æ—¶æœºï¼š</strong></p>
<p>å½“æ•´ä¸ªé¡µé¢çš„èµ„æº(åŒ…æ‹¬å›¾ç‰‡ã€æ ·å¼å’Œå…¶ä»–èµ„æº)éƒ½åŠ è½½å®Œæ¯•æ—¶ï¼Œä¼šè§¦å‘ window å¯¹è±¡ä¸Šçš„ load äº‹ä»¶ã€‚å¯ä»¥é€šè¿‡ <code>onload</code> å±æ€§è·å–æ­¤äº‹ä»¶ã€‚</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// ä¸æ­¤ç›¸åŒ window.addEventListener('load', (event) => &#123;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Page loaded'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// æ­¤æ—¶å›¾ç‰‡å·²ç»åŠ è½½å®Œæˆ</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Image size: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>img<span class="token punctuation">.</span>offsetWidth<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">x</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>img<span class="token punctuation">.</span>offsetHeight<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>img<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://en.js.cx/clipart/train.gif?speed=1&amp;cache=0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>

<hr>
<p><code>beforeunload</code>äº‹ä»¶ï¼š</p>
<p><strong>è§¦å‘æ—¶æœºï¼š</strong></p>
<p>å¦‚æœè®¿é—®è€…è§¦å‘äº†ç¦»å¼€é¡µé¢çš„å¯¼èˆªæˆ–è¯•å›¾å…³é—­çª—å£ï¼Œ<code>beforeunload</code> å¤„ç†ç¨‹åºå°†è¦æ±‚è¿›è¡Œæ›´å¤šç¡®è®¤ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬è¦å–æ¶ˆäº‹ä»¶ï¼Œæµè§ˆå™¨ä¼šè¯¢é—®ç”¨æˆ·æ˜¯å¦ç¡®å®šã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onbeforeunload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token string">"There are unsaved changes. Leave now?"</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre>

<hr>
<p><code>unload</code>äº‹ä»¶ï¼š</p>
<p><strong>è§¦å‘æ—¶æœºï¼š</strong></p>
<p>å½“è®¿é—®è€…ç¦»å¼€é¡µé¢æ—¶ï¼Œ<code>window</code> å¯¹è±¡ä¸Šçš„ <code>unload</code> äº‹ä»¶å°±ä¼šè¢«è§¦å‘ã€‚æˆ‘ä»¬å¯ä»¥åœ¨é‚£é‡Œåšä¸€äº›ä¸æ¶‰åŠå»¶è¿Ÿçš„æ“ä½œï¼Œä¾‹å¦‚å…³é—­ç›¸å…³çš„å¼¹å‡ºçª—å£ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> analyticsData <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token comment">/* å¸¦æœ‰æ”¶é›†çš„æ•°æ®çš„å¯¹è±¡ */</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"unload"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  navigator<span class="token punctuation">.</span><span class="token function">sendBeacon</span><span class="token punctuation">(</span><span class="token string">"/analytics"</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>analyticsData<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
</ol>
<h3 id="BOM-å¯¹è±¡"><a href="#BOM-å¯¹è±¡" class="headerlink" title="BOM å¯¹è±¡"></a>BOM å¯¹è±¡</h3><h4 id="è€ƒç‚¹1ï¼šWindow-å¯¹è±¡"><a href="#è€ƒç‚¹1ï¼šWindow-å¯¹è±¡" class="headerlink" title="è€ƒç‚¹1ï¼šWindow å¯¹è±¡"></a>è€ƒç‚¹1ï¼šWindow å¯¹è±¡</h4><ol>
<li><p><strong>æ€ä¹ˆç†è§£ window å¯¹è±¡ï¼Ÿ</strong></p>
<p><code>BOM</code> çš„æ ¸å¿ƒå¯¹è±¡æ˜¯<code>window</code>ï¼Œå®ƒè¡¨ç¤ºæµè§ˆå™¨çš„ä¸€ä¸ªå®ä¾‹ã€‚</p>
<p>åœ¨æµè§ˆå™¨ä¸­ï¼Œ<code>window</code>å¯¹è±¡æœ‰åŒé‡è§’è‰²ï¼Œå³æ˜¯æµè§ˆå™¨çª—å£çš„ä¸€ä¸ªæ¥å£ï¼Œåˆæ˜¯å…¨å±€å¯¹è±¡ã€‚</p>
<p>å› æ­¤æ‰€æœ‰åœ¨å…¨å±€ä½œç”¨åŸŸä¸­å£°æ˜çš„å˜é‡ã€å‡½æ•°éƒ½ä¼šå˜æˆ<code>window</code>å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚</p>
</li>
<li><p><strong>å¦‚ä½•æ§åˆ¶ window çª—å£ï¼Ÿ</strong></p>
<p>å…³äºçª—å£æ§åˆ¶æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>moveBy(x,y)</code>ï¼šä»å½“å‰ä½ç½®æ°´å¹³ç§»åŠ¨çª—ä½“xä¸ªåƒç´ ï¼Œå‚ç›´ç§»åŠ¨çª—ä½“yä¸ªåƒç´ ï¼Œxä¸ºè´Ÿæ•°ï¼Œå°†å‘å·¦ç§»åŠ¨çª—ä½“ï¼Œyä¸ºè´Ÿæ•°ï¼Œå°†å‘ä¸Šç§»åŠ¨çª—ä½“</li>
<li><code>moveTo(x,y)</code>ï¼šç§»åŠ¨çª—ä½“å·¦ä¸Šè§’åˆ°ç›¸å¯¹äºå±å¹•å·¦ä¸Šè§’çš„(x,y)ç‚¹</li>
<li><code>resizeBy(w,h)</code>ï¼šç›¸å¯¹çª—ä½“å½“å‰çš„å¤§å°ï¼Œå®½åº¦è°ƒæ•´wä¸ªåƒç´ ï¼Œé«˜åº¦è°ƒæ•´hä¸ªåƒç´ ã€‚å¦‚æœå‚æ•°ä¸ºè´Ÿå€¼ï¼Œå°†ç¼©å°çª—ä½“ï¼Œåä¹‹æ‰©å¤§çª—ä½“</li>
<li><code>resizeTo(w,h)</code>ï¼šæŠŠçª—ä½“å®½åº¦è°ƒæ•´ä¸ºwä¸ªåƒç´ ï¼Œé«˜åº¦è°ƒæ•´ä¸ºhä¸ªåƒç´ </li>
<li><code>scrollTo(x,y)</code>ï¼šå¦‚æœæœ‰æ»šåŠ¨æ¡ï¼Œå°†æ¨ªå‘æ»šåŠ¨æ¡ç§»åŠ¨åˆ°ç›¸å¯¹äºçª—ä½“å®½åº¦ä¸ºxä¸ªåƒç´ çš„ä½ç½®ï¼Œå°†çºµå‘æ»šåŠ¨æ¡ç§»åŠ¨åˆ°ç›¸å¯¹äºçª—ä½“é«˜åº¦ä¸ºyä¸ªåƒç´ çš„ä½ç½®</li>
<li><code>scrollBy(x,y)</code>ï¼š å¦‚æœæœ‰æ»šåŠ¨æ¡ï¼Œå°†æ¨ªå‘æ»šåŠ¨æ¡å‘å·¦ç§»åŠ¨xä¸ªåƒç´ ï¼Œå°†çºµå‘æ»šåŠ¨æ¡å‘ä¸‹ç§»åŠ¨yä¸ªåƒç´ </li>
</ul>
<p><code>window.open()</code> æ—¢å¯ä»¥å¯¼èˆªåˆ°ä¸€ä¸ªç‰¹å®šçš„<code>url</code>ï¼Œä¹Ÿå¯ä»¥æ‰“å¼€ä¸€ä¸ªæ–°çš„æµè§ˆå™¨çª—å£</p>
<p>å¦‚æœ <code>window.open()</code> ä¼ é€’äº†ç¬¬äºŒä¸ªå‚æ•°ï¼Œä¸”è¯¥å‚æ•°æ˜¯å·²æœ‰çª—å£æˆ–è€…æ¡†æ¶çš„åç§°ï¼Œé‚£ä¹ˆå°±ä¼šåœ¨ç›®æ ‡çª—å£åŠ è½½ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šçš„URL</p>
<pre class="language-js" data-language="js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'htttp://www.vue3js.cn'</span><span class="token punctuation">,</span><span class="token string">'topFrame'</span><span class="token punctuation">)</span>
<span class="token operator">==</span><span class="token operator">></span> <span class="token operator">&lt;</span> a href<span class="token operator">=</span><span class="token string">" "</span> target<span class="token operator">=</span><span class="token string">"topFrame"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span> a<span class="token operator">></span></code></pre>

<p><code>window.open()</code> ä¼šè¿”å›æ–°çª—å£çš„å¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯æ–°çª—å£çš„ <code>window</code> å¯¹è±¡</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> myWin <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'http://www.vue3js.cn'</span><span class="token punctuation">,</span><span class="token string">'myWin'</span><span class="token punctuation">)</span></code></pre>

<p><code>window.close()</code> ä»…ç”¨äºé€šè¿‡ <code>window.open()</code> æ‰“å¼€çš„çª—å£</p>
<p>æ–°åˆ›å»ºçš„ <code>window</code> å¯¹è±¡æœ‰ä¸€ä¸ª <code>opener</code> å±æ€§ï¼Œè¯¥å±æ€§æŒ‡å‘æ‰“å¼€ä»–çš„åŸå§‹çª—å£å¯¹è±¡</p>
</li>
</ol>
<h4 id="è€ƒç‚¹2ï¼šLocation-å¯¹è±¡"><a href="#è€ƒç‚¹2ï¼šLocation-å¯¹è±¡" class="headerlink" title="è€ƒç‚¹2ï¼šLocation å¯¹è±¡"></a>è€ƒç‚¹2ï¼šLocation å¯¹è±¡</h4><ol>
<li><p><strong>ä»€ä¹ˆæ˜¯ location å¯¹è±¡ï¼Ÿæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</strong></p>
<p>Location å¯¹è±¡æ˜¯æµè§ˆå™¨æä¾›çš„åŸç”Ÿå¯¹è±¡ï¼Œæä¾› URL ç›¸å…³çš„ä¿¡æ¯å’Œæ“ä½œæ–¹æ³•ã€‚é€šè¿‡ <code>window.location</code> å’Œ <code>document.location</code> å±æ€§ï¼Œå¯ä»¥æ‹¿åˆ°è¿™ä¸ªå¯¹è±¡ã€‚</p>
<p><code>location</code>å±æ€§æè¿°å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>å±æ€§å</th>
<th>ä¾‹å­</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>hash</td>
<td>â€œ#contentsâ€</td>
<td>urlä¸­#åé¢çš„å­—ç¬¦ï¼Œæ²¡æœ‰åˆ™è¿”å›ç©ºä¸²</td>
</tr>
<tr>
<td>host</td>
<td><a target="_blank" rel="noopener" href="http://www.wrox.com/">www.wrox.com:80</a></td>
<td>æœåŠ¡å™¨åç§°å’Œç«¯å£å·</td>
</tr>
<tr>
<td>hostname</td>
<td><a target="_blank" rel="noopener" href="http://www.wrox.com/">www.wrox.com</a></td>
<td>åŸŸåï¼Œä¸å¸¦ç«¯å£å·</td>
</tr>
<tr>
<td>href</td>
<td><a target="_blank" rel="noopener" href="http://www.wrox.com/WileyCDA/?q=javascript#contents">http://www.wrox.com:80/WileyCDA/?q=javascript#contents</a></td>
<td>å®Œæ•´url</td>
</tr>
<tr>
<td>pathname</td>
<td>â€œ/WileyCDA/â€œ</td>
<td>æœåŠ¡å™¨ä¸‹é¢çš„æ–‡ä»¶è·¯å¾„</td>
</tr>
<tr>
<td>port</td>
<td>80</td>
<td>urlçš„ç«¯å£å·ï¼Œæ²¡æœ‰åˆ™ä¸ºç©º</td>
</tr>
<tr>
<td>protocol</td>
<td>http:</td>
<td>ä½¿ç”¨çš„åè®®</td>
</tr>
<tr>
<td>search</td>
<td>?q=javascript</td>
<td>urlçš„æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œé€šå¸¸ä¸ºï¼Ÿåé¢çš„å†…å®¹</td>
</tr>
</tbody></table>
<p>é™¤äº† <code>hash</code>ä¹‹å¤–ï¼Œåªè¦ä¿®æ”¹<code>location</code>çš„ä¸€ä¸ªå±æ€§ï¼Œå°±ä¼šå¯¼è‡´é¡µé¢é‡æ–°åŠ è½½æ–°<code>URL</code></p>
<p><code>location.reload()</code>ï¼Œæ­¤æ–¹æ³•å¯ä»¥é‡æ–°åˆ·æ–°å½“å‰é¡µé¢ã€‚è¿™ä¸ªæ–¹æ³•ä¼šæ ¹æ®æœ€æœ‰æ•ˆçš„æ–¹å¼åˆ·æ–°é¡µé¢ï¼Œå¦‚æœé¡µé¢è‡ªä¸Šä¸€æ¬¡è¯·æ±‚ä»¥æ¥æ²¡æœ‰æ”¹å˜è¿‡ï¼Œé¡µé¢å°±ä¼šä»æµè§ˆå™¨ç¼“å­˜ä¸­é‡æ–°åŠ è½½</p>
<p>å¦‚æœè¦å¼ºåˆ¶ä»æœåŠ¡å™¨ä¸­é‡æ–°åŠ è½½ï¼Œä¼ é€’ä¸€ä¸ªå‚æ•°<code>true</code>å³å¯</p>
</li>
</ol>
<h4 id="è€ƒç‚¹3ï¼šHistory-å¯¹è±¡"><a href="#è€ƒç‚¹3ï¼šHistory-å¯¹è±¡" class="headerlink" title="è€ƒç‚¹3ï¼šHistory å¯¹è±¡"></a>è€ƒç‚¹3ï¼šHistory å¯¹è±¡</h4><ol>
<li><p><strong>ä»€ä¹ˆæ˜¯ history å¯¹è±¡ï¼Ÿæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</strong></p>
<p><code>history</code>å¯¹è±¡ä¸»è¦ç”¨æ¥æ“ä½œæµè§ˆå™¨<code>URL</code>çš„å†å²è®°å½•ï¼Œå¯ä»¥é€šè¿‡å‚æ•°å‘å‰ï¼Œå‘åï¼Œæˆ–è€…å‘æŒ‡å®š<code>URL</code>è·³è½¬ã€‚</p>
<p>å¸¸ç”¨çš„å±æ€§å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>history.go()</code></li>
</ul>
<p>æ¥æ”¶ä¸€ä¸ªæ•´æ•°æ•°å­—æˆ–è€…å­—ç¬¦ä¸²å‚æ•°ï¼šå‘æœ€è¿‘çš„ä¸€ä¸ªè®°å½•ä¸­åŒ…å«æŒ‡å®šå­—ç¬¦ä¸²çš„é¡µé¢è·³è½¬</p>
<pre class="language-js" data-language="js"><code class="language-js">history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token string">'xxx.com'</span><span class="token punctuation">)</span></code></pre>

<p>å½“å‚æ•°ä¸ºæ•´æ•°æ•°å­—çš„æ—¶å€™ï¼Œæ­£æ•°è¡¨ç¤ºå‘å‰è·³è½¬æŒ‡å®šçš„é¡µé¢ï¼Œè´Ÿæ•°ä¸ºå‘åè·³è½¬æŒ‡å®šçš„é¡µé¢</p>
<pre class="language-js" data-language="js"><code class="language-js">history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">//å‘å‰è·³è½¬ä¸‰ä¸ªè®°å½•</span>
history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">//å‘åè·³è½¬ä¸€ä¸ªè®°å½•</span></code></pre>

<ul>
<li><code>history.forward()</code>ï¼šå‘å‰è·³è½¬ä¸€ä¸ªé¡µé¢</li>
<li><code>history.back()</code>ï¼šå‘åè·³è½¬ä¸€ä¸ªé¡µé¢</li>
<li><code>history.length</code>ï¼šè·å–å†å²è®°å½•æ•°</li>
</ul>
</li>
<li><p><strong>äº†è§£è¿‡ vue-router å—ï¼Ÿhistory æ¨¡å¼å’Œ hash æ¨¡å¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p>
<p><strong>hash æ¨¡å¼ï¼š</strong></p>
<p>å½¢å¼ä¸Šï¼šhash æ¨¡å¼ url é‡Œé¢æ°¸è¿œå¸¦ç€ <code>#</code> å·ï¼Œå¼€å‘å½“ä¸­é»˜è®¤ä½¿ç”¨è¿™ä¸ªæ¨¡å¼ã€‚</p>
<p>æœ¬è´¨æ˜¯ä¸€ä¸ªæµè§ˆå™¨å†…ç½®çš„å‘å¸ƒè®¢é˜…ï¼Œæ”¹å˜ hash ä¼šå¹¿æ’­åˆ°<code>onhashchange</code>äº‹ä»¶ï¼Œå¯ä»¥åœ¨windowå¯¹è±¡ä¸Šç›‘å¬è¿™ä¸ªäº‹ä»¶ï¼š</p>
<pre class="language-js" data-language="js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onhashchange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>oldURL<span class="token punctuation">,</span> event<span class="token punctuation">.</span>newURL<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">let</span> hash <span class="token operator">=</span> location<span class="token punctuation">.</span>hash<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
     document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> hash<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>æ¯æ¬¡ hash å‘ç”Ÿå˜åŒ–ï¼Œæ–°æ—§ url éƒ½ä¼šè¢«è®°å½•ä¸‹æ¥ï¼Œä»è€Œå¯ä»¥å®ç°å‰è¿›åé€€æ“ä½œã€‚</p>
<p><strong>history æ¨¡å¼ï¼š</strong></p>
<p>åŸç†æ˜¯åˆ©ç”¨äº† history å¯¹è±¡çš„ APIã€‚å…¶ä¸­æ¯”è¾ƒé‡è¦çš„ä¸¤ä¸ªæ˜¯ <code>pushState</code> å’Œ <code>replaceState</code>ã€‚</p>
<p>history ä¸æ˜¯ä¾é  url æ”¹å˜æ¥åˆ‡æ¢è·¯ç”±çš„ï¼Œå› ä¸º hash ä¸å˜çš„æƒ…å†µä¸‹ url æ”¹å˜ä¸ä¼šè§¦å‘ä»»ä½•äº‹ä»¶ï¼Œæ‰€ä»¥éœ€è¦ä¾èµ–å†…éƒ¨å®ç°çš„å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œé€šçŸ¥ç›¸åº”çš„ç»„ä»¶ã€‚å¹¶ä¸”è¿™ä¸ªè¿‡ç¨‹éœ€è¦å®ç°æŒä¹…åŒ–å­˜å‚¨ï¼Œä¿è¯åœ¨åˆ·æ–°ä¹‹åè¿˜èƒ½åœç•™åœ¨å½“å‰è·¯ç”±ã€‚</p>
<p>ä½¿ç”¨ history æ¨¡å¼ï¼Œå¦‚æœç›´æ¥è¾“å…¥ URL å›è½¦æˆ–è€…åˆ·æ–°æ˜¯ä¼šå‘é€çœŸå®è¯·æ±‚çš„ã€‚å› æ­¤åœ¨æœåŠ¡ç«¯éœ€è¦é…ç½®é‡å®šå‘è¿”å› <code>index</code>ï¼Œå†ç”±å‰ç«¯å¤„ç†è·¯ç”±åŒ¹é…ã€‚</p>
</li>
</ol>
</div><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>sticla</li><li class="post-copyright-link"><strong>Post link: </strong><a href="https://blog.sticla.top/2021/08/13/front-end-interview-review-js-web-api/" title="å¤‡æˆ˜å‰ç«¯é¢è¯•--js-web-apiç¯‡">https://blog.sticla.top/2021/08/13/front-end-interview-review-js-web-api/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> unless otherwise stated.</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2021/08/14/class-and-this/" rel="prev" title="Class å­ç±»æ²¡æœ‰ thisï¼Ÿ Class çœŸçš„åªæ˜¯è¯­æ³•ç³–å—ï¼Ÿ"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">Class å­ç±»æ²¡æœ‰ thisï¼Ÿ Class çœŸçš„åªæ˜¯è¯­æ³•ç³–å—ï¼Ÿ</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2021/08/12/front-end-interview-review-js/" rel="next" title="å¤‡æˆ˜å‰ç«¯é¢è¯•--jsåŸºç¡€ç¯‡"><span class="post-nav-text">å¤‡æˆ˜å‰ç«¯é¢è¯•--jsåŸºç¡€ç¯‡</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>è‹¥æ‚¨æƒ³åŠæ—¶å¾—åˆ°å›å¤æé†’ï¼Œå»ºè®®è·³è½¬ GitHub Issues è¯„è®ºã€‚</span><br><a class="hty-button hty-button--raised" id="github-issues" target="_blank" rel="noopener" href="https://github.com/li-sticla/li-sticla.github.io/issues?q=is:issue+å¤‡æˆ˜å‰ç«¯é¢è¯•--js-web-apiç¯‡">GitHub Issues</a></div><div id="valine-container"></div><script>Yun.utils.getScript("https://cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js", () => {
  const valineConfig = {"enable":true,"appId":"fhhkJbCVeplMMyPTL5CmiGOV-MdYXbMMI","appKey":"gXz6Ktd45hdMO77EYNY9cRds","placeholder":"æœ‰ä»»ä½•é—®é¢˜è¯·ç•™è¨€ï¼Œçœ‹åˆ°ä¼šå›å¤æ»´","avatar":null,"pageSize":10,"visitor":true,"highlight":true,"recordIP":false,"enableQQ":true,"avatar_cdn":"https://gravatar.loli.net/avatar/","meta":["nick","mail","link"],"el":"#valine-container","lang":"en"}
  valineConfig.path = "/2021/08/13/front-end-interview-review-js-web-api/"
  new Valine(valineConfig)
}, window.Valine);</script></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 â€“ 2023 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> sticla</span></div><div class="powered"><span>Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> v5.4.0</span><span class="footer-separator">|</span><span>Theme - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.5.2</span></div><div class="live_time"><span>æœ¬åšå®¢å·²èŒèŒå“’åœ°å­˜æ´»äº†</span><span id="display_live_time"></span><span class="moe-text">(â—'â—¡'â—)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2021-03-19T21:17:49');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " å¤© " + passHour + " å°æ—¶ " + passMinute + " åˆ† " + passSecond + " ç§’";
}
blog_live_time();
</script></div></footer><a class="hty-icon-button" id="goUp" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#6200ee" stroke-width="2" stroke-linecap="round"></circle></svg></a></div></body></html>